var nslider1;function loadScr(){escape(location.href.replace(/#.+$/,"")),escape(document.referrer),$("#scriptLoader").html("")}jQuery.loadScript=function(e,t){jQuery.ajax({url:e,dataType:"script",success:t,async:!0})};var userCase,Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,i,o,n,s,a,l,r="",c=0;for(e=Base64._utf8_encode(e);c<e.length;)n=(t=e.charCodeAt(c++))>>2,s=(3&t)<<4|(i=e.charCodeAt(c++))>>4,a=(15&i)<<2|(o=e.charCodeAt(c++))>>6,l=63&o,isNaN(i)?a=l=64:isNaN(o)&&(l=64),r=r+this._keyStr.charAt(n)+this._keyStr.charAt(s)+this._keyStr.charAt(a)+this._keyStr.charAt(l);return r},decode:function(e){var t,i,o,n,s,a,l="",r=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");r<e.length;)t=this._keyStr.indexOf(e.charAt(r++))<<2|(n=this._keyStr.indexOf(e.charAt(r++)))>>4,i=(15&n)<<4|(s=this._keyStr.indexOf(e.charAt(r++)))>>2,o=(3&s)<<6|(a=this._keyStr.indexOf(e.charAt(r++))),l+=String.fromCharCode(t),64!=s&&(l+=String.fromCharCode(i)),64!=a&&(l+=String.fromCharCode(o));return Base64._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},_utf8_decode:function(e){for(var t="",i=0,o=c1=c2=0;i<e.length;)(o=e.charCodeAt(i))<128?(t+=String.fromCharCode(o),i++):o>191&&o<224?(c2=e.charCodeAt(i+1),t+=String.fromCharCode((31&o)<<6|63&c2),i+=2):(c2=e.charCodeAt(i+1),c3=e.charCodeAt(i+2),t+=String.fromCharCode((15&o)<<12|(63&c2)<<6|63&c3),i+=3);return t}};function easyload(e,t,i){return true;t.preventDefault(),document.getElementById(i);var o=$(e).attr("href");NProgress.start(),$("#hmmenu").find("li").removeClass("active"),$("select").data("select2")&&$("select.select2").select2("destroy"),$("#pageHeader").removeClass("boxshdw"),$.pjax({url:o,container:"#"+i,scrollTo:0,timeout:11e4,cache:!1}).complete(function(){NProgress.done(),loadScr(),activateVoxShadow2(),$("form.recapt").length>0&&onloadCallback(),$("#bs-example-navbar-collapse-1").length>0&&($("#bs-example-navbar-collapse-1").css({height:"0px"}),$("#bs-example-navbar-collapse-1").removeClass("in"),$("body").removeClass("menuIsActive"))})}function toggleBody(){jQuery("body").hasClass("menuIsActive")?jQuery("body").removeClass("menuIsActive"):jQuery("body").addClass("menuIsActive")}function showMiniFilters(){$(".miniHidden").toggleClass("show")}function showMoreFilters(){$("#defaultFilterBar").find(".smlCol17").addClass("fullWHt")}function eventScript(){$("select").data("select2")&&$(".select2-container").remove(),$("select.select2").select2(),$(".js-example-placeholder-single.select2").select2({minimumResultsForSearch:-1,placeholder:$(this).attr("data-placeholder"),allowClear:!0}),$eventSelect=$("#dynamicCities"),$eventSelect.select2({placeholder:"Select Locations",allowClear:!0,ajax:{url:function(){return load_city_url+"/state/"+$("#state").val()},dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:30*t.page<e.total_count}}},cache:!0},escapeMarkup:function(e){return e},minimumInputLength:0}),$eventSelect.on("select2:select",function(e){console.log("select2:select",e.params.data.id)})}function showfrm(e){$("body").addClass("openfilter")}function closerfrm(e){$("body").removeClass("openfilter")}function loadListJs2(){$(".select2-container--open").not(".fisedopeb").remove(),$("select").data("select2")&&$(".select2-container").remove(),$("select.select2").select2(),$(".js-example-placeholder-single.select2").select2({minimumResultsForSearch:-1,placeholder:$(this).attr("data-placeholder"),allowClear:!0}),$eventSelect=$("#dynamicCities"),$eventSelect.select2({placeholder:"Select Locations",dropdownCssClass:"specialdropDown",ajax:{url:function(){return load_city_url+"/state/"+$("#state").val()},dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:30*t.page<e.total_count}}},cache:!0},escapeMarkup:function(e){return e},minimumInputLength:0}),$eventSelect.on("select2:close",function(e){$(this).siblings("span.select2").find("ul").find("li").length-1>=1?$(this).siblings("span.select2").addClass("selecteditems"):$(this).siblings("span.select2").removeClass("selecteditems")}),$eventSelect.siblings("span.select2").find("ul").find("li").length-1>=1?$eventSelect.siblings("span.select2").addClass("selecteditems"):$eventSelect.siblings("span.select2").removeClass("selecteditems")}function showfrm(e){$("body").addClass("openfilter")}function closerfrm(e){$("body").removeClass("openfilter")}function showMiniFilters(){$(".miniHidden").toggleClass("show")}function showMoreFilters(){$("#defaultFilterBar").find(".smlCol17").addClass("fullWHt")}function initMap2(e,t){var i={zoom:16,mapTypeControl:!1,center:new google.maps.LatLng(e,t),mapTypeId:google.maps.MapTypeId.ROADMAP,zoomControl:!0};map=new google.maps.Map(document.getElementById("map_canvas3"),i),geocoder=new google.maps.Geocoder}function placeMarker(e){new google.maps.Marker({position:e,map:map})}function setEmptyval(e){$(e).val(""),$("#frm_sec").val(""),$("#frm_type").val(""),$("#frm_cat").val("")}function submitFrmTop(){$("#detail_form").submit()}function nslider(){ nslider1 = $(".nslider").slick({infinite:!1,slidesToShow:1,rtl:isRtl,asNavFor:".property-slider-nav",slidesToScroll:1,dots:!1,swipeToSlide:!0,swipe:!0,arrows:!0})}function fancyclgroup(){$('[data-fancybox="cl-group"]').fancybox({thumbs:{autoStart:!0,axis:"x",hideOnClose:!0},baseClass:"fancybox-custom-layout",infobar:!1,touch:{vertical:!1},buttons:["close","thumbs"],animationEffect:"fade",transitionEffect:"fade",preventCaptionOverlap:!1,idleTime:!1,gutter:0})}function homeBlog(){$("#frsBlogSlider").sluck({infinite:!1,slidesToShow:6,slidesToScroll:6,rtl:isRtl,dots:!1,arrows:!0,responsive:[{breakpoint:1240,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:1024,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:380,settings:{slidesToShow:2,slidesToScroll:2}}]})}function onloadCallback(){$("form.recapt").length>0?(grecaptcha.ready(function(){grecaptcha.execute("6Ldsl2IaAAAAAGSkGrL7xUeucC9yKthmDsYWdTmy").then(function(e){$("form.recapt").find("button").removeProp("disabled",!1),$("form.recapt").prepend('<input type="hidden" name="g-recaptcha-response" value="'+e+'">')})}),$("body").addClass("recap")):$("body").removeClass("recap")}function closeIFrame(){$("#ifrm").remove(),$("#myModal3").modal("hide"),loadDetails()}function loadDetails(){$(".loadCnter").addClass("fetching"),$.get(user_details_info_url,function(e){if($(".loadCnter").removeClass("fetching"),"0"!=e)switch(user_defined=!0,$("#no_userli").html(e),userCase){case"email":$(current_val_k).click();break;case"whatsapp":if(void 0!==(i=$(current_val_k).attr("data-href"))){$(current_val_k).removeAttr("onclick");var t=Base64.decode(i);$(current_val_k).attr("href",i),window.open(t,"_blank")}break;case"call":var i;void 0!==(i=$(current_val_k).attr("data-phone"))&&($(current_val_k).removeAttr("onclick"),t=Base64.decode(i),$(current_val_k).attr("href","tel:"+t),$(current_val_k).html(t))}})}function iniFrame(){window.self!==window.top&&$("html").addClass("isOnFram")}var current_val_k,mscrol=!1;function activateVoxShadow2(){$("#pageHeader.boxshdw").length>0?(mscrol=!0,$(document).scroll(function(){mscrol&&($(document).scrollTop()>=64?$(".headerAbsolute").removeClass("boxshdw"):$(".headerAbsolute").addClass("boxshdw"))})):(mscrol=!1,$("#pageHeader").removeClass("boxshdw"))}function openCity2(e,t,i,o){var n=$("#"+o);n.find(".tabcontent").removeClass("active"),n.find(".tablinks").removeClass("active"),$(t).addClass("active"),$("#"+i).addClass("active")}function OpenWhatsappNew(e){var t=$(e).attr("data-href");whatsappstatistcsupdate(e);null!=t&&($(e).removeAttr("onclick"),$(e).attr("href",t),$(e).click())}function OpenCallNew2(e){var t=$(e).attr("data-phone");if(null!=t){if(!user_defined)return current_val_k=e,userCase="call",OpenLogin(e),!1;$(e).removeAttr("onclick");var i=Base64.decode(t);$(e).attr("href","tel:"+i),$(e).html(i),$(e).click()}}function OpenFormClickNew(e){var t=$(e).attr("data-reactid");if(void 0===t)return!1;$("#myModal2").modal("show"),$("#cn_property").html("<div style='position:relative;min-height: 200px;'><div class='loading '><div class='spinner rmsdf'><div class='bounce1'></div>  <div class='bounce2'></div>  <div class='bounce3'></div></div><div class='clearfix'></div></div></div>"),$.get(propertyUrl+"/id/"+t,function(e){$("#cn_property").html(e)})}function OpenLogin(e){$("#myModal3").modal("show"),$("#raw_ht_ml").html('<iframe id="ifrm"   class="mframe" ></iframe>'),document.getElementById("ifrm").src=login_option}function hm_tab(){$("#ids").slick({infinite:!1,slidesToShow:5,slidesToScroll:1,dots:!1,rtl:isRtl,arrows:!0,responsive:[{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:450,settings:{slidesToShow:2,slidesToScroll:2}}]})}function ResizeWin(){$(window).resize(function(e){$("#ids").hasClass("slick-initialized")||hm_tab()})}function OpenFormAgentClickNew(e){if(!user_defined)return current_val_k=e,userCase="email",OpenLogin(e),!1;var t=$(e).attr("data-reactid");if(void 0===t)return!1;$("#myModal2").modal("show"),$("#cn_property").html("<div style='position:relative;min-height: 200px;'><div class='loading '><div class='spinner rmsdf'><div class='bounce1'></div>  <div class='bounce2'></div>  <div class='bounce3'></div></div><div class='clearfix'></div></div></div>"),$.get(agentUrl+"/id/"+t,function(e){$("#cn_property").html(e)})}function closePopup(){$("#myModal3").modal("hide")}function search_byAjax(){if($("body").hasClass("openfilter"))return!1;var e=document.getElementById("mainContainerClass");formData=$("#frmId :input").serializeArray();var t,i="",o="",n="",s="?";$.each(formData,function(e,t){"sec1"==t.name||""!=t.value&&("sec"==t.name||("type_of"==t.name?i+="Property_"+t.value+"/":"state"==t.name?o+=t.value+"/":"locality"==t.name?n+="Locality_"+t.value+"/":s+="&"+t.name+"="+t.value))}),t=mainListUrl+i+o+n+s,NProgress.start(),$.pjax({url:t,container:e,timeout:11e4,cache:!1}).complete(function(){NProgress.done()})}function OpenCallNew(e){var t=$(e).attr("data-phone");null!=t&&(userCase="call",savestatist2(e,t))}function loadDetails(){$(".loadCnter").addClass("fetching"),$.get(user_details_info_url,function(e){if($(".loadCnter").removeClass("fetching"),"0"!=e)switch(user_defined=!0,$("#no_userli").html(e),userCase){case"report":case"email":$(current_val_k).click();break;case"whatsapp":if(void 0!==(i=$(current_val_k).attr("data-href"))){$(current_val_k).removeAttr("onclick");var t=Base64.decode(i);$(current_val_k).attr("href",i),window.open(t,"_blank")}break;case"call":var i;void 0!==(i=$(current_val_k).attr("data-phone"))&&(savestatist("C",$(current_val_k).attr("data-prop")),$(current_val_k).removeAttr("onclick"),t=Base64.decode(i),$(current_val_k).attr("href","tel:"+t),$(current_val_k).hasClass("tooltipm")?($(current_val_k).find(".nm-cls").html(t),$(current_val_k).addClass("dynamicopt"),setTimeout(function(){$(current_val_k).removeClass("dynamicopt")},3e3)):$(current_val_k).html(t))}})}function callprevet(e,t){e.preventDefault(),""==$(t).find("#locality").val()&&$(t).find(".js-typeahead-user_v2").attr("name","word"),formData=$(t).find(":input").serializeArray();var i=$(t).attr("action")+"/",o="",n="",s="",a="?";$.each(formData,function(e,t){""!=t.value&&("type_of"==t.name?o+="Property_"+t.value+"/":"state"==t.name?n+=t.value+"/":"locality"==t.name?s+="Locality_"+t.value+"/":a+=t.name+"="+t.value+"&")}),location.href=i+o+n+s+a}function closeBackendIFrame(){$(".loadCnter").addClass("fetching"),$("#myModalAdmin").modal("hide"),location.reload()}function UpdatePropertyDetais(e){var t=$(e).attr("data-href");void 0!==t&&($("#myModalAdmin").modal("show"),$("#myModalAdmin_prop_html").html('<iframe id="ifrm2"   class="mframe" ></iframe>'),document.getElementById("ifrm2").src=t)}function closePopupAdm(){$("#myModalAdmin").modal("hide")}function changeOrder(e){var t=$(e).val();void 0!==t&&($("#order_val").val(t),search_byAjax_agent())}function checkScroll(){currentPage++,offset=(currentPage-1)*limit,jQuery.ajax(slug+"&offset="+offset+"&limit="+limit+"&is_form=1",{data:{formData:encodeURIComponent($("#frmId").serialize())},asynchronous:!0,evalScripts:!0,method:"get",beforeSend:function(){scroll=!1,loadingDiv.html(loadingHtml)},success:function(e,t,i){loadingDiv.html(""),"1"==e?stopPagination=!1:(e=JSON.parse(e),$("#suggest_friends_last_id").before(e.dataHtml),caroselSingle3(),lozad().observe(),scroll=!0)}})}function checkScrollUser(){console.log("test"),currentPage++,offset=(currentPage-1)*limit,jQuery.ajax(slug+"?offset="+offset+"&limit="+limit+"&is_form=1",{data:{formData:""},asynchronous:!0,evalScripts:!0,method:"get",beforeSend:function(){console.log("loading"+slug),scroll=!1,loadingDiv.html(loadingHtml)},success:function(e,t,i){loadingDiv.html(""),"1"==e?stopPagination=!1:(e=JSON.parse(e),$("#suggest_friends_last_id").before(e.dataHtml),lozad().observe(),scroll=!0)}})}function OpenFormReportClickNew(e){/*if(!user_defined)return current_val_k=e,userCase="report",OpenLogin(e),!1;*/var t=$(e).attr("data-reactid");if(void 0===t)return!1;$("#myModal31").modal("show"),$("#report_porperty").html("<div style='position:relative;min-height: 200px;'><div class='loading '><div class='spinner rmsdf'><div class='bounce1'></div>  <div class='bounce2'></div>  <div class='bounce3'></div></div><div class='clearfix'></div></div></div>"),$.get(reportUrl+"/id/"+t,function(e){$("#report_porperty").html(e)})}function copyTextfnNew(e){$(e).find("input").select(),document.execCommand("copy")}function savestatist2(e,t){var i=$(e).attr("data-prop");$.get(statistics+"/case/C/reactid/"+i,function(i){$(e).removeAttr("onclick");var o=Base64.decode(t);$(e).attr("href","tel:"+o),$(e).hasClass("tooltipm")?($(e).find(".nm-cls").html(o),$(e).addClass("dynamicopt"),setTimeout(function(){$(e).removeClass("dynamicopt")},3e3)):($(e).hasClass("mob-not-fetc")||($(e).addClass("dir-ltr"),$(e).html(o)),setTimeout(function(){$(e).click()},500))})}function emailCase(e){var t=$(e).val().toLowerCase();$(e).val(t.replace(/\s/g,""))}function savestatist(e,t){$.get(statistics+"/case/"+e+"/reactid/"+t,function(e){})}function removethisCookie(){$("#s-cookies-notification").hide()}function setAcceptCookiex(e){var t=$(e).attr("data-url");void 0!==t&&($(e).html("Loading.."),$.get(t,function(e){"1"==e&&removethisCookie()}))}function smoothScrol(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})})}function OpenWindow(e){if(windowpopup=!0,"1"==e)var t=baseid+"site/login/service/google_oauth";else t="6"==e?baseid+"site/login/service/apple":baseid+"site/login/service/facebook";return $("html").hasClass("hidemenuiphone")?(location.href=t,!1):(newwindow=window.open(t,"sociallogin","height=600,width=650"),setInterval(function(){"undefined"!=typeof newwindow&&windowpopup&&newwindow.closed&&(windowpopup=!1)},1e3),window.focus&&newwindow.focus(),!1)}function areaUnitChanger(){$("#myModal-changeUnit").modal("show")}function changeOrderN(e){var t=$(e).val();void 0!==t&&($("#sort_val").val(t),search_byAjax())}function showUpdateEdit(){$("#showUpdateEdit").removeClass("hide"),$("#showUpdateEdit").find("textarea").focus()}function showWithoutTrim(e){$("#txttrim").hasClass("texttrim-enabled")?($("#txttrim").removeClass("texttrim-enabled"),$("#asss2").focus(),$(e).html("Read Less")):($("#txttrim").addClass("texttrim-enabled"),$("#asss").focus(),$(e).html("Read More"))}function blogSlick(){$("#content-blgsection").slick({infinite:!1,slidesToShow:8,slidesToScroll:1,responsive:[{breakpoint:992,settings:{slidesToShow:8,slidesToScroll:1}},,{breakpoint:767,settings:{slidesToShow:6,slidesToScroll:1}},{breakpoint:568,settings:{slidesToShow:4.5,slidesToScroll:1}},{breakpoint:479,settings:{slidesToShow:3.5,slidesToScroll:1}}]})}!function(e){var t;"function"==typeof define&&define.amd?define("jquery-typeahead",["jquery"],function(t){return e(t)}):"object"==typeof module&&module.exports?module.exports=(void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(void 0)),e(t)):e(jQuery)}(function(e){"use strict";function t(e,t){this.rawQuery=e.val()||"",this.query=e.val()||"",this.selector=e[0].selector,this.deferred=null,this.tmpSource={},this.source={},this.dynamicGroups=[],this.hasDynamicGroups=!1,this.generatedGroupCount=0,this.groupBy="group",this.groups=[],this.searchGroups=[],this.generateGroups=[],this.requestGroups=[],this.result=[],this.tmpResult={},this.groupTemplate="",this.resultHtml=null,this.resultCount=0,this.resultCountPerGroup={},this.options=t,this.node=e,this.namespace="."+this.helper.slugify.call(this,this.selector)+".typeahead",this.isContentEditable=void 0!==this.node.attr("contenteditable")&&"false"!==this.node.attr("contenteditable"),this.container=null,this.resultContainer=null,this.item=null,this.items=null,this.comparedItems=null,this.xhr={},this.hintIndex=null,this.filters={dropdown:{},dynamic:{}},this.dropdownFilter={static:[],dynamic:[]},this.dropdownFilterAll=null,this.isDropdownEvent=!1,this.requests={},this.backdrop={},this.hint={},this.label={},this.hasDragged=!1,this.focusOnly=!1,this.displayEmptyTemplate,this.__construct()}var i,o={input:null,minLength:2,maxLength:!(window.Typeahead={version:"2.11.0"}),maxItem:8,dynamic:!1,delay:300,order:null,offset:!1,hint:!1,accent:!1,highlight:!0,multiselect:null,group:!1,groupOrder:null,maxItemPerGroup:null,dropdownFilter:!1,dynamicFilter:null,backdrop:!1,backdropOnFocus:!1,cache:!1,ttl:36e5,compression:!1,searchOnFocus:!1,blurOnTab:!0,resultContainer:null,generateOnLoad:null,mustSelectItem:!1,href:null,display:["display"],template:null,templateValue:null,groupTemplate:null,correlativeTemplate:!1,emptyTemplate:!1,cancelButton:!0,loadingAnimation:!0,asyncResult:!1,filter:!0,matcher:null,source:null,callback:{onInit:null,onReady:null,onShowLayout:null,onHideLayout:null,onSearch:null,onResult:null,onLayoutBuiltBefore:null,onLayoutBuiltAfter:null,onNavigateBefore:null,onNavigateAfter:null,onEnter:null,onLeave:null,onClickBefore:null,onClickAfter:null,onDropdownFilter:null,onSendRequest:null,onReceiveRequest:null,onPopulateSource:null,onCacheSave:null,onSubmit:null,onCancel:null},selector:{container:"typeahead__container",result:"typeahead__result",list:"typeahead__list",group:"typeahead__group",item:"typeahead__item",empty:"typeahead__empty",display:"typeahead__display",query:"typeahead__query",filter:"typeahead__filter",filterButton:"typeahead__filter-button",dropdown:"typeahead__dropdown",dropdownItem:"typeahead__dropdown-item",labelContainer:"typeahead__label-container",label:"typeahead__label",button:"typeahead__button",backdrop:"typeahead__backdrop",hint:"typeahead__hint",cancelButton:"typeahead__cancel-button"},debug:!1},n={from:"ÃƒÂ£Ãƒ ÃƒÂ¡ÃƒÂ¤ÃƒÂ¢Ã¡ÂºÂ½ÃƒÂ¨ÃƒÂ©ÃƒÂ«ÃƒÂªÃƒÂ¬ÃƒÂ­ÃƒÂ¯ÃƒÂ®ÃƒÂµÃƒÂ²ÃƒÂ³ÃƒÂ¶ÃƒÂ´ÃƒÂ¹ÃƒÂºÃƒÂ¼ÃƒÂ»ÃƒÂ±ÃƒÂ§",to:"aaaaaeeeeeiiiiooooouuuunc"},s=~window.navigator.appVersion.indexOf("MSIE 9."),a=~window.navigator.appVersion.indexOf("MSIE 10"),l=!!~window.navigator.userAgent.indexOf("Trident")&&~window.navigator.userAgent.indexOf("rv:11");t.prototype={_validateCacheMethod:function(e){var t;if(!0===e)e="localStorage";else if("string"==typeof e&&!~["localStorage","sessionStorage"].indexOf(e))return!1;t=void 0!==window[e];try{window[e].setItem("typeahead","typeahead"),window[e].removeItem("typeahead")}catch(e){t=!1}return t&&e||!1},extendOptions:function(){if(this.options.cache=this._validateCacheMethod(this.options.cache),this.options.compression&&("object"==typeof LZString&&this.options.cache||(this.options.compression=!1)),this.options.maxLength&&!isNaN(this.options.maxLength)||(this.options.maxLength=1/0),void 0!==this.options.maxItem&&~[0,!1].indexOf(this.options.maxItem)&&(this.options.maxItem=1/0),this.options.maxItemPerGroup&&!/^\d+$/.test(this.options.maxItemPerGroup)&&(this.options.maxItemPerGroup=null),this.options.display&&!Array.isArray(this.options.display)&&(this.options.display=[this.options.display]),this.options.multiselect&&(this.items=[],this.comparedItems=[],"string"==typeof this.options.multiselect.matchOn&&(this.options.multiselect.matchOn=[this.options.multiselect.matchOn])),this.options.group&&(Array.isArray(this.options.group)||("string"==typeof this.options.group?this.options.group={key:this.options.group}:"boolean"==typeof this.options.group&&(this.options.group={key:"group"}),this.options.group.key=this.options.group.key||"group")),this.options.highlight&&!~["any",!0].indexOf(this.options.highlight)&&(this.options.highlight=!1),this.options.dropdownFilter&&this.options.dropdownFilter instanceof Object){Array.isArray(this.options.dropdownFilter)||(this.options.dropdownFilter=[this.options.dropdownFilter]);for(var t=0,i=this.options.dropdownFilter.length;t<i;++t)this.dropdownFilter[this.options.dropdownFilter[t].value?"static":"dynamic"].push(this.options.dropdownFilter[t])}this.options.dynamicFilter&&!Array.isArray(this.options.dynamicFilter)&&(this.options.dynamicFilter=[this.options.dynamicFilter]),this.options.accent&&("object"==typeof this.options.accent?this.options.accent.from&&this.options.accent.to&&(this.options.accent.from.length,this.options.accent.to.length):this.options.accent=n),this.options.groupTemplate&&(this.groupTemplate=this.options.groupTemplate),this.options.resultContainer&&("string"==typeof this.options.resultContainer&&(this.options.resultContainer=e(this.options.resultContainer)),this.options.resultContainer instanceof e&&this.options.resultContainer[0]&&(this.resultContainer=this.options.resultContainer)),this.options.group&&this.options.group.key&&(this.groupBy=this.options.group.key),this.options.callback&&this.options.callback.onClick&&(this.options.callback.onClickBefore=this.options.callback.onClick,delete this.options.callback.onClick),this.options.callback&&this.options.callback.onNavigate&&(this.options.callback.onNavigateBefore=this.options.callback.onNavigate,delete this.options.callback.onNavigate),this.options=e.extend(!0,{},o,this.options)},unifySourceFormat:function(){var e,t,i;for(e in this.dynamicGroups=[],Array.isArray(this.options.source)&&(this.options.source={group:{data:this.options.source}}),"string"==typeof this.options.source&&(this.options.source={group:{ajax:{url:this.options.source}}}),this.options.source.ajax&&(this.options.source={group:{ajax:this.options.source.ajax}}),(this.options.source.url||this.options.source.data)&&(this.options.source={group:this.options.source}),this.options.source)if(this.options.source.hasOwnProperty(e)){if("string"==typeof(t=this.options.source[e])&&(t={ajax:{url:t}}),i=t.url||t.ajax,Array.isArray(i)?(t.ajax="string"==typeof i[0]?{url:i[0]}:i[0],t.ajax.path=t.ajax.path||i[1]||null):"object"==typeof t.url?t.ajax=t.url:"string"==typeof t.url&&(t.ajax={url:t.url}),delete t.url,!t.data&&!t.ajax)return!1;t.display&&!Array.isArray(t.display)&&(t.display=[t.display]),t.minLength="number"==typeof t.minLength?t.minLength:this.options.minLength,t.maxLength="number"==typeof t.maxLength?t.maxLength:this.options.maxLength,t.dynamic="boolean"==typeof t.dynamic||this.options.dynamic,t.minLength>t.maxLength&&(t.minLength=t.maxLength),this.options.source[e]=t,this.options.source[e].dynamic&&this.dynamicGroups.push(e),t.cache=void 0!==t.cache?this._validateCacheMethod(t.cache):this.options.cache,t.compression&&("object"==typeof LZString&&t.cache||(t.compression=!1))}return this.hasDynamicGroups=this.options.dynamic||!!this.dynamicGroups.length,!0},init:function(){this.helper.executeCallback.call(this,this.options.callback.onInit,[this.node]),this.container=this.node.closest("."+this.options.selector.container)},delegateEvents:function(){var t=this,i=["focus"+this.namespace,"input"+this.namespace,"propertychange"+this.namespace,"keydown"+this.namespace,"keyup"+this.namespace,"search"+this.namespace,"generate"+this.namespace];e("html").on("touchmove",function(){t.hasDragged=!0}).on("touchstart",function(){t.hasDragged=!1}),this.node.closest("form").on("submit",function(e){if(!t.options.mustSelectItem||!t.helper.isEmpty(t.item))return t.options.backdropOnFocus||t.hideLayout(),t.options.callback.onSubmit?t.helper.executeCallback.call(t,t.options.callback.onSubmit,[t.node,this,t.item||t.items,e]):void 0;e.preventDefault()}).on("reset",function(){setTimeout(function(){t.node.trigger("input"+t.namespace),t.hideLayout()})});var o=!1;if(this.node.attr("placeholder")&&(a||l)){var n=!0;this.node.on("focusin focusout",function(){n=!(this.value||!this.placeholder)}),this.node.on("input",function(e){n&&(e.stopImmediatePropagation(),n=!1)})}this.node.off(this.namespace).on(i.join(" "),function(i,n){switch(i.type){case"generate":t.generateSource(Object.keys(t.options.source));break;case"focus":if(t.focusOnly){t.focusOnly=!1;break}t.options.backdropOnFocus&&(t.buildBackdropLayout(),t.showLayout()),t.options.searchOnFocus&&!t.item&&(t.deferred=e.Deferred(),t.assignQuery(),t.generateSource());break;case"keydown":8===i.keyCode&&t.options.multiselect&&t.options.multiselect.cancelOnBackspace&&""===t.query&&t.items.length?t.cancelMultiselectItem(t.items.length-1,null,i):i.keyCode&&~[9,13,27,38,39,40].indexOf(i.keyCode)&&(o=!0,t.navigate(i));break;case"keyup":s&&t.node[0].value.replace(/^\s+/,"").toString().length<t.query.length&&t.node.trigger("input"+t.namespace);break;case"propertychange":if(o){o=!1;break}case"input":t.deferred=e.Deferred(),t.assignQuery(),""===t.rawQuery&&""===t.query&&(i.originalEvent=n||{},t.helper.executeCallback.call(t,t.options.callback.onCancel,[t.node,t.item,i]),t.item=null),t.options.cancelButton&&t.toggleCancelButtonVisibility(),t.options.hint&&t.hint.container&&""!==t.hint.container.val()&&0!==t.hint.container.val().indexOf(t.rawQuery)&&(t.hint.container.val(""),t.isContentEditable&&t.hint.container.text("")),t.hasDynamicGroups?t.helper.typeWatch(function(){t.generateSource()},t.options.delay):t.generateSource();break;case"search":t.searchResult(),t.buildLayout(),t.result.length||t.searchGroups.length&&t.displayEmptyTemplate?t.showLayout():t.hideLayout(),t.deferred&&t.deferred.resolve()}return t.deferred&&t.deferred.promise()}),this.options.generateOnLoad&&this.node.trigger("generate"+this.namespace)},assignQuery:function(){this.isContentEditable?this.rawQuery=this.node.text():this.rawQuery=this.node.val().toString(),this.rawQuery=this.rawQuery.replace(/^\s+/,""),this.rawQuery!==this.query&&(this.query=this.rawQuery)},filterGenerateSource:function(){if(this.searchGroups=[],this.generateGroups=[],!this.focusOnly||this.options.multiselect)for(var e in this.options.source)if(this.options.source.hasOwnProperty(e)&&this.query.length>=this.options.source[e].minLength&&this.query.length<=this.options.source[e].maxLength){if(this.filters.dropdown&&"group"===this.filters.dropdown.key&&this.filters.dropdown.value!==e)continue;if(this.searchGroups.push(e),!this.options.source[e].dynamic&&this.source[e])continue;this.generateGroups.push(e)}},generateSource:function(t){if(this.filterGenerateSource(),this.generatedGroupCount=0,Array.isArray(t)&&t.length)this.generateGroups=t;else if(!this.generateGroups.length)return void this.node.trigger("search"+this.namespace);if(this.requestGroups=[],this.options.loadingAnimation&&this.container.addClass("loading"),!this.helper.isEmpty(this.xhr)){for(var i in this.xhr)this.xhr.hasOwnProperty(i)&&this.xhr[i].abort();this.xhr={}}for(var o,n,s,a,l,r,c,u=this,d=(i=0,this.generateGroups.length);i<d;++i){if(o=this.generateGroups[i],a=(s=this.options.source[o]).cache,l=s.compression,this.options.asyncResult&&delete this.source[o],a&&(r=window[a].getItem("TYPEAHEAD_"+this.selector+":"+o))){l&&(r=LZString.decompressFromUTF16(r)),c=!1;try{(r=JSON.parse(r+"")).data&&r.ttl>(new Date).getTime()?(this.populateSource(r.data,o),c=!0):window[a].removeItem("TYPEAHEAD_"+this.selector+":"+o)}catch(t){}if(c)continue}!s.data||s.ajax?s.ajax&&(this.requests[o]||(this.requests[o]=this.generateRequestObject(o)),this.requestGroups.push(o)):"function"==typeof s.data?(n=s.data.call(this),Array.isArray(n)?u.populateSource(n,o):"function"==typeof n.promise&&function(t){e.when(n).then(function(e){e&&Array.isArray(e)&&u.populateSource(e,t)})}(o)):this.populateSource(e.extend(!0,[],s.data),o)}return this.requestGroups.length&&this.handleRequests(),this.options.asyncResult&&this.searchGroups.length!==this.generateGroups&&this.node.trigger("search"+this.namespace),!!this.generateGroups.length},generateRequestObject:function(e){var t=this,i=this.options.source[e],o={request:{url:i.ajax.url||null,dataType:"json",beforeSend:function(o,n){t.xhr[e]=o;var s=t.requests[e].callback.beforeSend||i.ajax.beforeSend;"function"==typeof s&&s.apply(null,arguments)}},callback:{beforeSend:null,done:null,fail:null,then:null,always:null},extra:{path:i.ajax.path||null,group:e},validForGroup:[e]};if("function"!=typeof i.ajax&&(i.ajax instanceof Object&&(o=this.extendXhrObject(o,i.ajax)),1<Object.keys(this.options.source).length))for(var n in this.requests)this.requests.hasOwnProperty(n)&&(this.requests[n].isDuplicated||o.request.url&&o.request.url===this.requests[n].request.url&&(this.requests[n].validForGroup.push(e),o.isDuplicated=!0,delete o.validForGroup));return o},extendXhrObject:function(t,i){return"object"==typeof i.callback&&(t.callback=i.callback,delete i.callback),"function"==typeof i.beforeSend&&(t.callback.beforeSend=i.beforeSend,delete i.beforeSend),t.request=e.extend(!0,t.request,i),"jsonp"!==t.request.dataType.toLowerCase()||t.request.jsonpCallback||(t.request.jsonpCallback="callback_"+t.extra.group),t},handleRequests:function(){var t,i=this,o=this.requestGroups.length;if(!1!==this.helper.executeCallback.call(this,this.options.callback.onSendRequest,[this.node,this.query]))for(var n=0,s=this.requestGroups.length;n<s;++n)t=this.requestGroups[n],this.requests[t].isDuplicated||function(t,n){if("function"==typeof i.options.source[t].ajax){var s=i.options.source[t].ajax.call(i,i.query);if("object"!=typeof(n=i.extendXhrObject(i.generateRequestObject(t),"object"==typeof s?s:{})).request||!n.request.url)return i.populateSource([],t);i.requests[t]=n}var a,l=!1,r={};if(~n.request.url.indexOf("{{query}}")&&(l||(n=e.extend(!0,{},n),l=!0),n.request.url=n.request.url.replace("{{query}}",encodeURIComponent(i.query))),n.request.data)for(var c in n.request.data)if(n.request.data.hasOwnProperty(c)&&~String(n.request.data[c]).indexOf("{{query}}")){l||(n=e.extend(!0,{},n),l=!0),n.request.data[c]=n.request.data[c].replace("{{query}}",i.query);break}e.ajax(n.request).done(function(e,t,o){for(var s,l=0,c=n.validForGroup.length;l<c;l++)s=n.validForGroup[l],"function"==typeof(a=i.requests[s]).callback.done&&(r[s]=a.callback.done.call(i,e,t,o))}).fail(function(e,t,o){for(var s=0,l=n.validForGroup.length;s<l;s++)(a=i.requests[n.validForGroup[s]]).callback.fail instanceof Function&&a.callback.fail.call(i,e,t,o)}).always(function(e,t,s){for(var l,c=0,u=n.validForGroup.length;c<u;c++){if(l=n.validForGroup[c],(a=i.requests[l]).callback.always instanceof Function&&a.callback.always.call(i,e,t,s),"abort"===t)return;i.populateSource(null!==e&&"function"==typeof e.promise&&[]||r[l]||e,a.extra.group,a.extra.path||a.request.path),0==(o-=1)&&i.helper.executeCallback.call(i,i.options.callback.onReceiveRequest,[i.node,i.query])}}).then(function(e,t){for(var o=0,s=n.validForGroup.length;o<s;o++)(a=i.requests[n.validForGroup[o]]).callback.then instanceof Function&&a.callback.then.call(i,e,t)})}(t,this.requests[t])},populateSource:function(t,i,o){var n=this,s=this.options.source[i],a=s.ajax&&s.data;o&&"string"==typeof o&&(t=this.helper.namespace.call(this,o,t)),Array.isArray(t)||(t=[]),a&&("function"==typeof a&&(a=a()),Array.isArray(a)&&(t=t.concat(a)));for(var l,r=s.display?"compiled"===s.display[0]?s.display[1]:s.display[0]:"compiled"===this.options.display[0]?this.options.display[1]:this.options.display[0],c=0,u=t.length;c<u;c++)null!==t[c]&&"boolean"!=typeof t[c]&&("string"==typeof t[c]&&((l={})[r]=t[c],t[c]=l),t[c].group=i);if(!this.hasDynamicGroups&&this.dropdownFilter.dynamic.length){var d,p,h={};for(c=0,u=t.length;c<u;c++)for(var m=0,f=this.dropdownFilter.dynamic.length;m<f;m++)d=this.dropdownFilter.dynamic[m].key,(p=t[c][d])&&(this.dropdownFilter.dynamic[m].value||(this.dropdownFilter.dynamic[m].value=[]),h[d]||(h[d]=[]),~h[d].indexOf(p.toLowerCase())||(h[d].push(p.toLowerCase()),this.dropdownFilter.dynamic[m].value.push(p)))}if(this.options.correlativeTemplate){var g=s.template||this.options.template,v="";if("function"==typeof g&&(g=g.call(this,"",{})),g){if(Array.isArray(this.options.correlativeTemplate))for(c=0,u=this.options.correlativeTemplate.length;c<u;c++)v+="{{"+this.options.correlativeTemplate[c]+"}} ";else v=g.replace(/<.+?>/g," ").replace(/\s{2,}/," ").trim();for(c=0,u=t.length;c<u;c++)t[c].compiled=e("<textarea />").html(v.replace(/\{\{([\w\-\.]+)(?:\|(\w+))?}}/g,function(e,i){return n.helper.namespace.call(n,i,t[c],"get","")}).trim()).text();s.display?~s.display.indexOf("compiled")||s.display.unshift("compiled"):~this.options.display.indexOf("compiled")||this.options.display.unshift("compiled")}}this.options.callback.onPopulateSource&&(t=this.helper.executeCallback.call(this,this.options.callback.onPopulateSource,[this.node,t,i,o])),this.tmpSource[i]=Array.isArray(t)&&t||[];var y=this.options.source[i].cache,b=this.options.source[i].compression,$=this.options.source[i].ttl||this.options.ttl;if(y&&!window[y].getItem("TYPEAHEAD_"+this.selector+":"+i)){this.options.callback.onCacheSave&&(t=this.helper.executeCallback.call(this,this.options.callback.onCacheSave,[this.node,t,i,o]));var C=JSON.stringify({data:t,ttl:(new Date).getTime()+$});b&&(C=LZString.compressToUTF16(C)),window[y].setItem("TYPEAHEAD_"+this.selector+":"+i,C)}this.incrementGeneratedGroup(i)},incrementGeneratedGroup:function(e){if(this.generatedGroupCount++,this.generatedGroupCount===this.generateGroups.length||this.options.asyncResult){this.xhr&&this.xhr[e]&&delete this.xhr[e];for(var t=0,i=this.generateGroups.length;t<i;t++)this.source[this.generateGroups[t]]=this.tmpSource[this.generateGroups[t]];this.hasDynamicGroups||this.buildDropdownItemLayout("dynamic"),this.generatedGroupCount===this.generateGroups.length&&(this.xhr={},this.options.loadingAnimation&&this.container.removeClass("loading")),this.node.trigger("search"+this.namespace)}},navigate:function(e){if(this.helper.executeCallback.call(this,this.options.callback.onNavigateBefore,[this.node,this.query,e]),27===e.keyCode)return e.preventDefault(),void(this.query.length?(this.resetInput(),this.node.trigger("input"+this.namespace,[e])):(this.node.blur(),this.hideLayout()));if(this.result.length){var t,i=this.resultContainer.find("."+this.options.selector.item).not("[disabled]"),o=i.filter(".active"),n=o[0]?i.index(o):null,s=o[0]?o.attr("data-index"):null,a=null;if(this.clearActiveItem(),this.helper.executeCallback.call(this,this.options.callback.onLeave,[this.node,null!==n&&i.eq(n)||void 0,null!==s&&this.result[s]||void 0,e]),13===e.keyCode)return e.preventDefault(),void(0<o.length?"javascript:;"===o.find("a:first")[0].href?o.find("a:first").trigger("click",e):o.find("a:first")[0].click():this.node.closest("form").trigger("submit"));if(39!==e.keyCode){9===e.keyCode?this.options.blurOnTab?this.hideLayout():0<o.length?n+1<i.length?(e.preventDefault(),a=n+1,this.addActiveItem(i.eq(a))):this.hideLayout():i.length?(e.preventDefault(),a=0,this.addActiveItem(i.first())):this.hideLayout():38===e.keyCode?(e.preventDefault(),0<o.length?0<=n-1&&(a=n-1,this.addActiveItem(i.eq(a))):i.length&&(a=i.length-1,this.addActiveItem(i.last()))):40===e.keyCode&&(e.preventDefault(),0<o.length?n+1<i.length&&(a=n+1,this.addActiveItem(i.eq(a))):i.length&&(a=0,this.addActiveItem(i.first()))),t=null!==a?i.eq(a).attr("data-index"):null,this.helper.executeCallback.call(this,this.options.callback.onEnter,[this.node,null!==a&&i.eq(a)||void 0,null!==t&&this.result[t]||void 0,e]),e.preventInputChange&&~[38,40].indexOf(e.keyCode)&&this.buildHintLayout(null!==t&&t<this.result.length?[this.result[t]]:null),this.options.hint&&this.hint.container&&this.hint.container.css("color",e.preventInputChange?this.hint.css.color:null===t&&this.hint.css.color||this.hint.container.css("background-color")||"fff");var l=null===t||e.preventInputChange?this.rawQuery:this.getTemplateValue.call(this,this.result[t]);this.node.val(l),this.isContentEditable&&this.node.text(l),this.helper.executeCallback.call(this,this.options.callback.onNavigateAfter,[this.node,i,null!==a&&i.eq(a).find("a:first")||void 0,null!==t&&this.result[t]||void 0,this.query,e])}else null!==n?i.eq(n).find("a:first")[0].click():this.options.hint&&""!==this.hint.container.val()&&this.helper.getCaret(this.node[0])>=this.query.length&&i.filter('[data-index="'+this.hintIndex+'"]').find("a:first")[0].click()}},getTemplateValue:function(e){if(e){var t=e.group&&this.options.source[e.group].templateValue||this.options.templateValue;if("function"==typeof t&&(t=t.call(this)),!t)return this.helper.namespace.call(this,e.matchedKey,e).toString();var i=this;return t.replace(/\{\{([\w\-.]+)}}/gi,function(t,o){return i.helper.namespace.call(i,o,e,"get","")})}},clearActiveItem:function(){this.resultContainer.find("."+this.options.selector.item).removeClass("active")},addActiveItem:function(e){e.addClass("active")},searchResult:function(){this.resetLayout(),!1!==this.helper.executeCallback.call(this,this.options.callback.onSearch,[this.node,this.query])&&(!this.searchGroups.length||this.options.multiselect&&this.options.multiselect.limit&&this.items.length>=this.options.multiselect.limit||this.searchResultData(),this.helper.executeCallback.call(this,this.options.callback.onResult,[this.node,this.query,this.result,this.resultCount,this.resultCountPerGroup]),this.isDropdownEvent&&(this.helper.executeCallback.call(this,this.options.callback.onDropdownFilter,[this.node,this.query,this.filters.dropdown,this.result]),this.isDropdownEvent=!1))},searchResultData:function(){var t,i,o,n,s,a,l,r,c,u,d,p=this.groupBy,h=null,m=this.query.toLowerCase(),f=this.options.maxItem,g=this.options.maxItemPerGroup,v=this.filters.dynamic&&!this.helper.isEmpty(this.filters.dynamic),y="function"==typeof this.options.matcher&&this.options.matcher;this.options.accent&&(m=this.helper.removeAccent.call(this,m));for(var b=0,$=this.searchGroups.length;b<$;++b)if(I=this.searchGroups[b],(!this.filters.dropdown||"group"!==this.filters.dropdown.key||this.filters.dropdown.value===I)&&(s=void 0!==this.options.source[I].filter?this.options.source[I].filter:this.options.filter,l="function"==typeof this.options.source[I].matcher&&this.options.source[I].matcher||y,this.source[I]))for(var C=0,_=this.source[I].length;C<_&&(!(this.resultItemCount>=f)||this.options.callback.onResult);C++)if((!v||this.dynamicFilter.validate.apply(this,[this.source[I][C]]))&&null!==(t=this.source[I][C])&&"boolean"!=typeof t&&(!this.options.multiselect||this.isMultiselectUniqueData(t))&&(!this.filters.dropdown||(t[this.filters.dropdown.key]||"").toLowerCase()===(this.filters.dropdown.value||"").toLowerCase())){if((h="group"===p?I:t[p]?t[p]:t.group)&&!this.tmpResult[h]&&(this.tmpResult[h]=[],this.resultCountPerGroup[h]=0),g&&"group"===p&&this.tmpResult[h].length>=g&&!this.options.callback.onResult)break;for(var k=0,w=(T=this.options.source[I].display||this.options.display).length;k<w;++k){if(!1!==s){if(void 0===(n=/\./.test(T[k])?this.helper.namespace.call(this,T[k],t):t[T[k]])||""===n)continue;n=this.helper.cleanStringFromScript(n)}if("function"==typeof s){if(void 0===(a=s.call(this,t,n)))break;if(!a)continue;"object"==typeof a&&(t=a)}if(~[void 0,!0].indexOf(s)){if(null===n)continue;if(o=(o=n).toString().toLowerCase(),this.options.accent&&(o=this.helper.removeAccent.call(this,o)),i=o.indexOf(m),this.options.correlativeTemplate&&"compiled"===T[k]&&i<0&&/\s/.test(m)){c=!0,d=o;for(var x=0,S=(u=m.split(" ")).length;x<S;x++)if(""!==u[x]){if(!~d.indexOf(u[x])){c=!1;break}d=d.replace(u[x],"")}}if(i<0&&!c)continue;if(this.options.offset&&0!==i)continue;if(l){if(void 0===(r=l.call(this,t,n)))break;if(!r)continue;"object"==typeof r&&(t=r)}}if(this.resultCount++,this.resultCountPerGroup[h]++,this.resultItemCount<f){if(g&&this.tmpResult[h].length>=g)break;this.tmpResult[h].push(e.extend(!0,{matchedKey:T[k]},t)),this.resultItemCount++}break}if(!this.options.callback.onResult){if(this.resultItemCount>=f)break;if(g&&this.tmpResult[h].length>=g&&"group"===p)break}}if(this.options.order){var A,T=[];for(var I in this.tmpResult)if(this.tmpResult.hasOwnProperty(I)){for(b=0,$=this.tmpResult[I].length;b<$;b++)A=this.options.source[this.tmpResult[I][b].group].display||this.options.display,~T.indexOf(A[0])||T.push(A[0]);this.tmpResult[I].sort(this.helper.sort(T,"asc"===this.options.order,function(e){return e?e.toString().toUpperCase():""}))}}var L,O=[];for(b=0,$=(L="function"==typeof this.options.groupOrder?this.options.groupOrder.apply(this,[this.node,this.query,this.tmpResult,this.resultCount,this.resultCountPerGroup]):Array.isArray(this.options.groupOrder)?this.options.groupOrder:"string"==typeof this.options.groupOrder&&~["asc","desc"].indexOf(this.options.groupOrder)?Object.keys(this.tmpResult).sort(this.helper.sort([],"asc"===this.options.groupOrder,function(e){return e.toString().toUpperCase()})):Object.keys(this.tmpResult)).length;b<$;b++)O=O.concat(this.tmpResult[L[b]]||[]);this.groups=JSON.parse(JSON.stringify(L)),this.result=O},buildLayout:function(){this.buildHtmlLayout(),this.buildBackdropLayout(),this.buildHintLayout(),this.options.callback.onLayoutBuiltBefore&&(this.tmpResultHtml=this.helper.executeCallback.call(this,this.options.callback.onLayoutBuiltBefore,[this.node,this.query,this.result,this.resultHtml])),this.tmpResultHtml instanceof e?this.resultContainer.html(this.tmpResultHtml):this.resultHtml instanceof e&&this.resultContainer.html(this.resultHtml),this.options.callback.onLayoutBuiltAfter&&this.helper.executeCallback.call(this,this.options.callback.onLayoutBuiltAfter,[this.node,this.query,this.result])},buildHtmlLayout:function(){if(!1!==this.options.resultContainer){var t;if(this.resultContainer||(this.resultContainer=e("<div/>",{class:this.options.selector.result}),this.container.append(this.resultContainer)),!this.result.length&&this.generatedGroupCount===this.generateGroups.length)if(this.options.multiselect&&this.options.multiselect.limit&&this.items.length>=this.options.multiselect.limit)t=this.options.multiselect.limitTemplate?"function"==typeof this.options.multiselect.limitTemplate?this.options.multiselect.limitTemplate.call(this,this.query):this.options.multiselect.limitTemplate.replace(/\{\{query}}/gi,e("<div>").text(this.helper.cleanStringFromScript(this.query)).html()):"Can't select more than "+this.items.length+" items.";else{if(!this.options.emptyTemplate||""===this.query)return;t="function"==typeof this.options.emptyTemplate?this.options.emptyTemplate.call(this,this.query):this.options.emptyTemplate.replace(/\{\{query}}/gi,e("<div>").text(this.helper.cleanStringFromScript(this.query)).html())}this.displayEmptyTemplate=!!t;var i=this.query.toLowerCase();this.options.accent&&(i=this.helper.removeAccent.call(this,i));var o=this,n=this.groupTemplate||"<ul></ul>",s=!1;this.groupTemplate?n=e(n.replace(/<([^>]+)>\{\{(.+?)}}<\/[^>]+>/g,function(e,i,n,a,l){var r="",c="group"===n?o.groups:[n];if(!o.result.length)return!0===s?"":(s=!0,"<"+i+' class="'+o.options.selector.empty+'">'+t+"</"+i+">");for(var u=0,d=c.length;u<d;++u)r+="<"+i+' data-group-template="'+c[u]+'"><ul></ul></'+i+">";return r})):(n=e(n),this.result.length||n.append(t instanceof e?t:'<li class="'+o.options.selector.empty+'">'+t+"</li>")),n.addClass(this.options.selector.list+(this.helper.isEmpty(this.result)?" empty":""));for(var a,l,r,c,u,d,p,h,m,f,g,v,y,b=this.groupTemplate&&this.result.length&&o.groups||[],$=0,C=this.result.length;$<C;++$)a=(r=this.result[$]).group,c=!this.options.multiselect&&this.options.source[r.group].href||this.options.href,h=[],m=this.options.source[r.group].display||this.options.display,this.options.group&&(a=r[this.options.group.key],this.options.group.template&&("function"==typeof this.options.group.template?l=this.options.group.template.call(this,r):"string"==typeof this.options.group.template&&(l=this.options.group.template.replace(/\{\{([\w\-\.]+)}}/gi,function(e,t){return o.helper.namespace.call(o,t,r,"get","")}))),n.find('[data-search-group="'+a+'"]')[0]||(this.groupTemplate?n.find('[data-group-template="'+a+'"] ul'):n).append(e("<li/>",{class:o.options.selector.group,html:e("<a/>",{href:"javascript:;",html:l||a,tabindex:-1}),"data-search-group":a}))),this.groupTemplate&&b.length&&~(g=b.indexOf(a||r.group))&&b.splice(g,1),u=e("<li/>",{class:o.options.selector.item+" "+o.options.selector.group+"-"+this.helper.slugify.call(this,a),disabled:!!r.disabled,"data-group":a,"data-index":$,html:e("<a/>",{href:c&&!r.disabled?(v=c,y=r,y.href=o.generateHref.call(o,v,y)):"javascript:;",html:function(){if(d=r.group&&o.options.source[r.group].template||o.options.template)"function"==typeof d&&(d=d.call(o,o.query,r)),p=d.replace(/\{\{([^\|}]+)(?:\|([^}]+))*}}/gi,function(e,t,n){var s=o.helper.cleanStringFromScript(String(o.helper.namespace.call(o,t,r,"get","")));return~(n=n&&n.split("|")||[]).indexOf("slugify")&&(s=o.helper.slugify.call(o,s)),~n.indexOf("raw")||!0===o.options.highlight&&i&&~m.indexOf(t)&&(s=o.helper.highlight.call(o,s,i.split(" "),o.options.accent)),s});else{for(var t=0,n=m.length;t<n;t++)void 0!==(f=/\./.test(m[t])?o.helper.namespace.call(o,m[t],r,"get",""):r[m[t]])&&""!==f&&h.push(f);p='<span class="'+o.options.selector.display+'">'+o.helper.cleanStringFromScript(String(h.join(" ")))+"</span>"}(!0===o.options.highlight&&i&&!d||"any"===o.options.highlight)&&(p=o.helper.highlight.call(o,p,i.split(" "),o.options.accent)),e(this).append(p)}})}),function(t,i,n){n.on("click",function(t,n){i.disabled?t.preventDefault():(n&&"object"==typeof n&&(t.originalEvent=n),o.options.mustSelectItem&&o.helper.isEmpty(i)?t.preventDefault():(o.options.multiselect||(o.item=i),!1!==o.helper.executeCallback.call(o,o.options.callback.onClickBefore,[o.node,e(this),i,t])&&(t.originalEvent&&t.originalEvent.defaultPrevented||t.isDefaultPrevented()||(o.options.multiselect?(o.query=o.rawQuery="",o.addMultiselectItemLayout(i)):(o.focusOnly=!0,o.query=o.rawQuery=o.getTemplateValue.call(o,i),o.isContentEditable&&(o.node.text(o.query),o.helper.setCaretAtEnd(o.node[0]))),o.hideLayout(),o.node.val(o.query).focus(),o.options.cancelButton&&o.toggleCancelButtonVisibility(),o.helper.executeCallback.call(o,o.options.callback.onClickAfter,[o.node,e(this),i,t])))))}),n.on("mouseenter",function(t){i.disabled||(o.clearActiveItem(),o.addActiveItem(e(this))),o.helper.executeCallback.call(o,o.options.callback.onEnter,[o.node,e(this),i,t])}),n.on("mouseleave",function(t){i.disabled||o.clearActiveItem(),o.helper.executeCallback.call(o,o.options.callback.onLeave,[o.node,e(this),i,t])})}(0,r,u),(this.groupTemplate?n.find('[data-group-template="'+a+'"] ul'):n).append(u);if(this.result.length&&b.length)for($=0,C=b.length;$<C;++$)n.find('[data-group-template="'+b[$]+'"]').remove();this.resultHtml=n}},generateHref:function(e,t){var i=this;return"string"==typeof e?e=e.replace(/\{\{([^\|}]+)(?:\|([^}]+))*}}/gi,function(e,o,n){var s=i.helper.namespace.call(i,o,t,"get","");return~(n=n&&n.split("|")||[]).indexOf("slugify")&&(s=i.helper.slugify.call(i,s)),s}):"function"==typeof e&&(e=e.call(this,t)),e},getMultiselectComparedData:function(e){var t="";if(Array.isArray(this.options.multiselect.matchOn))for(var i=0,o=this.options.multiselect.matchOn.length;i<o;++i)t+=void 0!==e[this.options.multiselect.matchOn[i]]?e[this.options.multiselect.matchOn[i]]:"";else{var n=JSON.parse(JSON.stringify(e)),s=["group","matchedKey","compiled","href"];for(i=0,o=s.length;i<o;++i)delete n[s[i]];t=JSON.stringify(n)}return t},buildBackdropLayout:function(){this.options.backdrop&&(this.backdrop.container||(this.backdrop.css=e.extend({opacity:.6,filter:"alpha(opacity=60)",position:"fixed",top:0,right:0,bottom:0,left:0,"z-index":1040,"background-color":"#000"},this.options.backdrop),this.backdrop.container=e("<div/>",{class:this.options.selector.backdrop,css:this.backdrop.css}).insertAfter(this.container)),this.container.addClass("backdrop").css({"z-index":this.backdrop.css["z-index"]+1,position:"relative"}))},buildHintLayout:function(t){if(this.options.hint)if(this.node[0].scrollWidth>Math.ceil(this.node.innerWidth()))this.hint.container&&this.hint.container.val("");else{var i=this,o="",n=(t=t||this.result,this.query.toLowerCase());if(this.options.accent&&(n=this.helper.removeAccent.call(this,n)),this.hintIndex=null,this.searchGroups.length){if(this.hint.container||(this.hint.css=e.extend({"border-color":"transparent",position:"absolute",top:0,display:"inline","z-index":-1,float:"none",color:"silver","box-shadow":"none",cursor:"default","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},this.options.hint),this.hint.container=e("<"+this.node[0].nodeName+"/>",{type:this.node.attr("type"),class:this.node.attr("class"),readonly:!0,unselectable:"on","aria-hidden":"true",tabindex:-1,click:function(){i.node.focus()}}).addClass(this.options.selector.hint).css(this.hint.css).insertAfter(this.node),this.node.parent().css({position:"relative"})),this.hint.container.css("color",this.hint.css.color),n)for(var s,a,l,r=0,c=t.length;r<c;r++)if(!t[r].disabled){a=t[r].group;for(var u=0,d=(s=this.options.source[a].display||this.options.display).length;u<d;u++)if(l=String(t[r][s[u]]).toLowerCase(),this.options.accent&&(l=this.helper.removeAccent.call(this,l)),0===l.indexOf(n)){o=String(t[r][s[u]]),this.hintIndex=r;break}if(null!==this.hintIndex)break}var p=0<o.length&&this.rawQuery+o.substring(this.query.length)||"";this.hint.container.val(p),this.isContentEditable&&this.hint.container.text(p)}}},buildDropdownLayout:function(){if(this.options.dropdownFilter){var t=this;e("<span/>",{class:this.options.selector.filter,html:function(){e(this).append(e("<button/>",{type:"button",class:t.options.selector.filterButton,style:"display: none;",click:function(){t.container.toggleClass("filter");var i=t.namespace+"-dropdown-filter";e("html").off(i),t.container.hasClass("filter")&&e("html").on("click"+i+" touchend"+i,function(o){e(o.target).closest("."+t.options.selector.filter)[0]&&e(o.target).closest(t.container)[0]||t.hasDragged||(t.container.removeClass("filter"),e("html").off(i))})}})),e(this).append(e("<ul/>",{class:t.options.selector.dropdown}))}}).insertAfter(t.container.find("."+t.options.selector.query))}},buildDropdownItemLayout:function(t){if(this.options.dropdownFilter){var i,o,n=this,s="string"==typeof this.options.dropdownFilter&&this.options.dropdownFilter||"All",a=this.container.find("."+this.options.selector.dropdown);"static"!==t||!0!==this.options.dropdownFilter&&"string"!=typeof this.options.dropdownFilter||this.dropdownFilter.static.push({key:"group",template:"{{group}}",all:s,value:Object.keys(this.options.source)});for(var l=0,r=this.dropdownFilter[t].length;l<r;l++){o=this.dropdownFilter[t][l],Array.isArray(o.value)||(o.value=[o.value]),o.all&&(this.dropdownFilterAll=o.all);for(var c=0,u=o.value.length;c<=u;c++)c===u&&l!==r-1||c===u&&l===r-1&&"static"===t&&this.dropdownFilter.dynamic.length||(i=this.dropdownFilterAll||s,o.value[c]?i=o.template?o.template.replace(new RegExp("{{"+o.key+"}}","gi"),o.value[c]):o.value[c]:this.container.find("."+n.options.selector.filterButton).html(i),function(t,i,o){a.append(e("<li/>",{class:n.options.selector.dropdownItem+" "+n.helper.slugify.call(n,i.key+"-"+(i.value[t]||s)),html:e("<a/>",{href:"javascript:;",html:o,click:function(e){e.preventDefault(),d.call(n,{key:i.key,value:i.value[t]||"*",template:o})}})}))}(c,o,i))}this.dropdownFilter[t].length&&this.container.find("."+n.options.selector.filterButton).removeAttr("style")}function d(e){"*"===e.value?delete this.filters.dropdown:this.filters.dropdown=e,this.container.removeClass("filter").find("."+this.options.selector.filterButton).html(e.template),this.isDropdownEvent=!0,this.node.trigger("input"+this.namespace),this.options.multiselect&&this.adjustInputSize(),this.node.focus()}},dynamicFilter:{isEnabled:!1,init:function(){this.options.dynamicFilter&&(this.dynamicFilter.bind.call(this),this.dynamicFilter.isEnabled=!0)},validate:function(e){var t,i,o=null,n=null;for(var s in this.filters.dynamic)if(this.filters.dynamic.hasOwnProperty(s)&&(i=~s.indexOf(".")?this.helper.namespace.call(this,s,e,"get"):e[s],"|"!==this.filters.dynamic[s].modifier||o||(o=i==this.filters.dynamic[s].value||!1),"&"===this.filters.dynamic[s].modifier)){if(i!=this.filters.dynamic[s].value){n=!1;break}n=!0}return t=o,null!==n&&!0===(t=n)&&null!==o&&(t=o),!!t},set:function(e,t){var i=e.match(/^([|&])?(.+)/);t?this.filters.dynamic[i[2]]={modifier:i[1]||"|",value:t}:delete this.filters.dynamic[i[2]],this.dynamicFilter.isEnabled&&this.generateSource()},bind:function(){for(var t,i=this,o=0,n=this.options.dynamicFilter.length;o<n;o++)"string"==typeof(t=this.options.dynamicFilter[o]).selector&&(t.selector=e(t.selector)),t.selector instanceof e&&t.selector[0]&&t.key&&function(e){e.selector.off(i.namespace).on("change"+i.namespace,function(){i.dynamicFilter.set.apply(i,[e.key,i.dynamicFilter.getValue(this)])}).trigger("change"+i.namespace)}(t)},getValue:function(e){var t;return"SELECT"===e.tagName?t=e.value:"INPUT"===e.tagName&&("checkbox"===e.type?t=e.checked&&e.getAttribute("value")||e.checked||null:"radio"===e.type&&e.checked&&(t=e.value)),t}},buildMultiselectLayout:function(){if(this.options.multiselect){var t,i=this;this.label.container=e("<span/>",{class:this.options.selector.labelContainer,"data-padding-left":parseFloat(this.node.css("padding-left"))||0,"data-padding-right":parseFloat(this.node.css("padding-right"))||0,"data-padding-top":parseFloat(this.node.css("padding-top"))||0,click:function(t){e(t.target).hasClass(i.options.selector.labelContainer)&&i.node.focus()}}),this.node.closest("."+this.options.selector.query).prepend(this.label.container),this.options.multiselect.data&&(Array.isArray(this.options.multiselect.data)?this.populateMultiselectData(this.options.multiselect.data):"function"==typeof this.options.multiselect.data&&(t=this.options.multiselect.data.call(this),Array.isArray(t)?this.populateMultiselectData(t):"function"==typeof t.promise&&e.when(t).then(function(e){e&&Array.isArray(e)&&i.populateMultiselectData(e)})))}},isMultiselectUniqueData:function(e){for(var t=!0,i=0,o=this.comparedItems.length;i<o;++i)if(this.comparedItems[i]===this.getMultiselectComparedData(e)){t=!1;break}return t},populateMultiselectData:function(e){for(var t=0,i=e.length;t<i;++t)this.addMultiselectItemLayout(e[t]);this.node.trigger("search"+this.namespace,{origin:"populateMultiselectData"})},addMultiselectItemLayout:function(t){if(this.isMultiselectUniqueData(t)){this.items.push(t),this.comparedItems.push(this.getMultiselectComparedData(t));var i,o=this.getTemplateValue(t),n=this,s=this.options.multiselect.href?"a":"span",a=e("<span/>",{class:this.options.selector.label,html:e("<"+s+"/>",{text:o,click:function(t){var i=e(this).closest("."+n.options.selector.label),o=n.label.container.find("."+n.options.selector.label).index(i);n.options.multiselect.callback&&n.helper.executeCallback.call(n,n.options.multiselect.callback.onClick,[n.node,n.items[o],t])},href:this.options.multiselect.href?(i=n.items[n.items.length-1],n.generateHref.call(n,n.options.multiselect.href,i)):null})});return a.append(e("<span/>",{class:this.options.selector.cancelButton,html:"Ãƒâ€”",click:function(t){var i=e(this).closest("."+n.options.selector.label),o=n.label.container.find("."+n.options.selector.label).index(i);n.cancelMultiselectItem(o,i,t)}})),this.label.container.append(a),this.adjustInputSize(),!0}},cancelMultiselectItem:function(e,t,i){var o=this.items[e];(t=t||this.label.container.find("."+this.options.selector.label).eq(e)).remove(),this.items.splice(e,1),this.comparedItems.splice(e,1),this.options.multiselect.callback&&this.helper.executeCallback.call(this,this.options.multiselect.callback.onCancel,[this.node,o,i]),this.adjustInputSize(),this.focusOnly=!0,this.node.focus().trigger("input"+this.namespace,{origin:"cancelMultiselectItem"})},adjustInputSize:function(){var t=this.node[0].getBoundingClientRect().width-(parseFloat(this.label.container.data("padding-right"))||0)-(parseFloat(this.label.container.css("padding-left"))||0),i=0,o=0,n=0,s=!1,a=0;this.label.container.find("."+this.options.selector.label).filter(function(l,r){0===l&&(a=e(r)[0].getBoundingClientRect().height+parseFloat(e(r).css("margin-bottom")||0)),i=e(r)[0].getBoundingClientRect().width+parseFloat(e(r).css("margin-right")||0),.7*t<n+i&&!s&&(o++,s=!0),n+i<t?n+=i:(s=!1,n=i)});var l=parseFloat(this.label.container.data("padding-left")||0)+(s?0:n),r=o*a+parseFloat(this.label.container.data("padding-top")||0);this.container.find("."+this.options.selector.query).find("input, textarea, [contenteditable], .typeahead__hint").css({paddingLeft:l,paddingTop:r})},showLayout:function(){!this.container.hasClass("result")&&(this.result.length||this.displayEmptyTemplate||this.options.backdropOnFocus)&&(function(){var t=this;e("html").off("keydown"+this.namespace).on("keydown"+this.namespace,function(i){i.keyCode&&9===i.keyCode&&setTimeout(function(){e(":focus").closest(t.container).find(t.node)[0]||t.hideLayout()},0)}),e("html").off("click"+this.namespace+" touchend"+this.namespace).on("click"+this.namespace+" touchend"+this.namespace,function(i){e(i.target).closest(t.container)[0]||e(i.target).closest("."+t.options.selector.item)[0]||i.target.className===t.options.selector.cancelButton||t.hasDragged||t.hideLayout()})}.call(this),this.container.addClass([this.result.length||this.searchGroups.length&&this.displayEmptyTemplate?"result ":"",this.options.hint&&this.searchGroups.length?"hint":"",this.options.backdrop||this.options.backdropOnFocus?"backdrop":""].join(" ")),this.helper.executeCallback.call(this,this.options.callback.onShowLayout,[this.node,this.query]))},hideLayout:function(){(this.container.hasClass("result")||this.container.hasClass("backdrop"))&&(this.container.removeClass("result hint filter"+(this.options.backdropOnFocus&&e(this.node).is(":focus")?"":" backdrop")),this.options.backdropOnFocus&&this.container.hasClass("backdrop")||(e("html").off(this.namespace),this.helper.executeCallback.call(this,this.options.callback.onHideLayout,[this.node,this.query])))},resetLayout:function(){this.result=[],this.tmpResult={},this.groups=[],this.resultCount=0,this.resultCountPerGroup={},this.resultItemCount=0,this.resultHtml=null,this.options.hint&&this.hint.container&&(this.hint.container.val(""),this.isContentEditable&&this.hint.container.text(""))},resetInput:function(){this.node.val(""),this.isContentEditable&&this.node.text(""),this.query="",this.rawQuery=""},buildCancelButtonLayout:function(){if(this.options.cancelButton){var t=this;e("<span/>",{class:this.options.selector.cancelButton,html:"Ãƒâ€”",mousedown:function(e){e.stopImmediatePropagation(),e.preventDefault(),t.resetInput(),t.node.trigger("input"+t.namespace,[e])}}).insertBefore(this.node)}},toggleCancelButtonVisibility:function(){this.container.toggleClass("cancel",!!this.query.length)},__construct:function(){this.extendOptions(),this.unifySourceFormat()&&(this.dynamicFilter.init.apply(this),this.init(),this.buildDropdownLayout(),this.buildDropdownItemLayout("static"),this.buildMultiselectLayout(),this.delegateEvents(),this.buildCancelButtonLayout(),this.helper.executeCallback.call(this,this.options.callback.onReady,[this.node]))},helper:{isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},removeAccent:function(e){if("string"==typeof e){var t=n;return"object"==typeof this.options.accent&&(t=this.options.accent),e.toLowerCase().replace(new RegExp("["+t.from+"]","g"),function(e){return t.to[t.from.indexOf(e)]})}},slugify:function(e){return""!==(e=String(e))&&(e=(e=this.helper.removeAccent.call(this,e)).replace(/[^-a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")),e},sort:function(e,t,i){function o(t){for(var o=0,n=e.length;o<n;o++)if(void 0!==t[e[o]])return i(t[e[o]]);return t}return t=[-1,1][+!!t],function(e,i){return e=o(e),i=o(i),t*((i<e)-(e<i))}},replaceAt:function(e,t,i,o){return e.substring(0,t)+o+e.substring(t+i)},highlight:function(e,t,i){e=String(e);var o=i&&this.helper.removeAccent.call(this,e)||e,n=[];Array.isArray(t)||(t=[t]),t.sort(function(e,t){return t.length-e.length});for(var s=t.length-1;0<=s;s--)""!==t[s].trim()?t[s]=t[s].replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t.splice(s,1);for(o.replace(new RegExp("(?:"+t.join("|")+")(?!([^<]+)?>)","gi"),function(e,t,i){n.push({offset:i,length:e.length})}),s=n.length-1;0<=s;s--)e=this.helper.replaceAt(e,n[s].offset,n[s].length,"<strong>"+e.substr(n[s].offset,n[s].length)+"</strong>");return e},getCaret:function(e){var t=0;if(e.selectionStart)return e.selectionStart;if(document.selection){var i=document.selection.createRange();if(null===i)return t;var o=e.createTextRange(),n=o.duplicate();o.moveToBookmark(i.getBookmark()),n.setEndPoint("EndToStart",o),t=n.text.length}else if(window.getSelection){var s=window.getSelection();if(s.rangeCount){var a=s.getRangeAt(0);a.commonAncestorContainer.parentNode==e&&(t=a.endOffset)}}return t},setCaretAtEnd:function(e){if(void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var i=window.getSelection();i.removeAllRanges(),i.addRange(t)}else if(void 0!==document.body.createTextRange){var o=document.body.createTextRange();o.moveToElementText(e),o.collapse(!1),o.select()}},cleanStringFromScript:function(e){return"string"==typeof e&&e.replace(/<\/?(?:script|iframe)\b[^>]*>/gm,"")||e},executeCallback:function(e,t){if(e){var i;if("function"==typeof e)i=e;else if(("string"==typeof e||Array.isArray(e))&&("string"==typeof e&&(e=[e,[]]),"function"!=typeof(i=this.helper.namespace.call(this,e[0],window))))return;return i.apply(this,(e[1]||[]).concat(t||[]))}},namespace:function(e,t,i,o){if("string"!=typeof e||""===e)return!1;var n=void 0!==o?o:void 0;if(!~e.indexOf("."))return t[e]||n;for(var s=e.split("."),a=t||window,l=(i=i||"get",""),r=0,c=s.length;r<c;r++){if(void 0===a[l=s[r]]){if(~["get","delete"].indexOf(i))return void 0!==o?o:void 0;a[l]={}}if(~["set","create","delete"].indexOf(i)&&r===c-1){if("set"!==i&&"create"!==i)return delete a[l],!0;a[l]=n}a=a[l]}return a},typeWatch:(i=0,function(e,t){clearTimeout(i),i=setTimeout(e,t)})}},e.fn.typeahead=e.typeahead=function(e){return r.typeahead(this,e)};var r={typeahead:function(i,o){if(o&&o.source&&"object"==typeof o.source){if("function"==typeof i){if(!o.input)return;i=e(o.input)}if(i.length){if(void 0===i[0].value&&(i[0].value=i.text()),1===i.length)return i[0].selector=i.selector||o.input||i[0].nodeName.toLowerCase(),window.Typeahead[i[0].selector]=new t(i,o);for(var n,s={},a=0,l=i.length;a<l;++a)void 0!==s[n=i[a].nodeName.toLowerCase()]&&(n+=a),i[a].selector=n,window.Typeahead[n]=s[n]=new t(i.eq(a),o);return s}}}};return window.console=window.console||{log:function(){}},Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(e,t){void 0===t&&(t=0),t<0&&(t+=this.length),t<0&&(t=0);for(var i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1}),Object.keys||(Object.keys=function(e){var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i}),t});var map,infowindow,ajax_location,ajax_title,ajax_body_id,cityid,selected_text,temp_lat="",temp_lng="";function placeMarker(e){new google.maps.Marker({position:e,map:map})}function showPosition(e){temp_lat=e.coords.latitude,temp_lng=e.coords.longitude}function maplinkclick(){$("#myTab a").click(function(e){e.preventDefault(),$("#myTab").find(".nav-link").removeClass("active"),$(this).addClass("active");var t=$(this).attr("href");$(".tab-pane").removeClass("show active"),$(t).addClass("show active")})}function autocompleteLocationJson(){"undefined"!=typeof selectted_city?"0"==autoComplete2.length||""!=selectted_city?(autoComplete2=[],$.getJSON(load_location_ajax_json,function(e){$.each(e,function(e,t){selectted_city.trim()==t.state.trim()&&autoComplete2.push(t)}),console.log(autoComplete2),createAutocomplete()})):(console.log("Not From List"),createAutocomplete()):"0"==autoComplete2.length?$.getJSON(load_location_ajax_json,function(e){autoComplete2=e,createAutocomplete()}):(console.log("Not From List"),createAutocomplete())}function changeInptu(){$("#word").val()!=$("#word_hidden").val()&&$("#word_hidden").val($("#word").val()).change()}function createAutocomplete(){$("#word").autocomplete({lookup:autoComplete2,minChars:1,lookupLimit:40,autoSelectFirst:!1,appendTo:"#keyword_a",onSelect:function(e){e.value!=$("#word_hidden").val()&&($("#word_hidden").removeAttr("onchange"),$("#hidden").removeAttr("onchange"),$("#word_hidden").val(e.value),$("#word").val(e.name),search_byAjax()),console.log("You selected: "+e.value+", "+e.data)},onChange:function(e){console.log(e)},formatResult:function(e){return"<span class='suggestion-wrapper'><span class='suggestion-value'>"+e.name+"</span><span class='sub-text'>"+e.state+"</span></span>"}})}function createAutocompleteNormal(e,t){$("#"+e).autocomplete({lookup:autoComplete2,minChars:1,lookupLimit:40,autoSelectFirst:!1,appendTo:"#"+t,onSelect:function(t){$("#"+e).val(t.name).change()},formatResult:function(e){return"<span class='suggestion-wrapper'><span class='suggestion-value'>"+e.name+"</span><span class='sub-text'>"+e.state+"</span></span>"}})}function autocompleteLocation2JSON(e,t){"0"==autoComplete2.length?$.getJSON(load_location_ajax_json,function(i){autoComplete2=i,createAutocompleteNormal(e,t)}):createAutocompleteNormal(e,t)}function processaddon(e){$.jAlert({type:"confirm",confirmQuestion:"Are you sure to add this package?",onConfirm:function(t,i){t.preventDefault(),i.parents(".jAlert").closeAlert();var o=$(e).attr("data-href");return void 0!==o&&($(".loader").html('<div class="cntr"><div class="loaderspin"></div></div><div class="bg"></div>'),$(".loader").addClass("loading"),$.get(o,function(e){$(".loader").html('<div class="contenth">'+e+'</div><div class="bg"></div>')})),!1},onDeny:function(e,t){return e.preventDefault(),t.parents(".jAlert").closeAlert(),!1}})}function OpenthiMod(e){$("#modal_komplain").modal("show"),$("#html_b").html($(e).find(".mhtml").html())}function processrefresh(e){$.jAlert({type:"confirm",confirmQuestion:"Are you sure to refresh this Ad?",onConfirm:function(t,i){t.preventDefault(),i.parents(".jAlert").closeAlert();var o=$(e).attr("data-href");return void 0!==o&&($(".loaderi").html('<div class="cntr"><div class="loaderispin"></div></div><div class="bg"></div>'),$(".loaderi").addClass("loading"),$.get(o,function(e){$(".loaderi").html('<div class="contenth">'+e+'</div><div class="bg"></div>')})),!1},onDeny:function(e,t){return e.preventDefault(),t.parents(".jAlert").closeAlert(),!1}})}function processfeatured(e){$.jAlert({type:"confirm",confirmQuestion:add_feat,confirmBtnText:yes_text,denyBtnText:no_text,onConfirm:function(t,i){t.preventDefault(),i.parents(".jAlert").closeAlert();var o=$(e).attr("data-href");return void 0!==o&&($(".loaderi").html('<div class="cntr"><div class="loaderispin"></div></div><div class="bg"></div>'),$(".loaderi").addClass("loading"),$.get(o,function(e){$(".loaderi").html('<div class="contenth">'+e+'</div><div class="bg"></div>')})),!1},onDeny:function(e,t){return e.preventDefault(),t.parents(".jAlert").closeAlert(),!1}})}function closePopupGetail(){history.replaceState(null,ajax_title,ajax_location),$("#details-page-container").removeClass("active-view"),$("#details-page-container").html(""),$("body").removeClass("openimage"),$("body").removeClass("openamenity"),$("body").attr("id","listing"),$("body").removeClass("on-detail-page"),document.title=ajax_title}function closeOutside(){$(document).on("click",function(e){var t=$("#details-page-container.active-view").find("#its_detail_page");t.is(e.target)&&"1"==t.length&&closePopupGetail()}),$("body#listing").keydown(function(e){console.log(e.keyCode),27==e.keyCode&&(e.preventDefault(),$("body").hasClass("on-detail-page")&&closePopupGetail())})}function easyload2(e,t,i){t.preventDefault(),ajax_location=window.location.href,ajax_title=document.title,ajax_body_id="listing",document.getElementById(i),$("#"+i).addClass("active-view"),"details-page-container"==i?$("body").addClass("on-detail-page"):$("body").removeClass("on-detail-page");var o=$(e).attr("href");NProgress.start(),$.pjax({url:o,container:"#"+i,timeout:11e4,scrollTo:!1,cache:!1}).complete(function(){scroId(i),NProgress.done(),$("form.recapt").length>0&&onloadCallback()})}function saveVideo(e,t,i,o){i?alert("error"):$.ajax({type:"POST",url:o,data:e.serialize(),success:function(e){$(".loaderi").html('<div class="contenth">'+e+'</div><div class="bg"></div>')}})}function processvideo(e){$.jAlert({type:"confirm",confirmQuestion:"Are you sure to add Youtube video?",onConfirm:function(t,i){t.preventDefault(),i.parents(".jAlert").closeAlert();var o=$(e).attr("data-href");return void 0!==o&&($(".loaderi").html('<div class="cntr"><div class="loaderispin"></div></div><div class="bg"></div>'),$(".loaderi").addClass("loading"),$.get(o,function(e){$(".loaderi").html('<div class="contenth">'+e+'</div><div class="bg"></div>')})),!1},onDeny:function(e,t){return e.preventDefault(),t.parents(".jAlert").closeAlert(),!1}})}function closePoputi(){$(".loader").removeClass("loading")}function closePoputif(){$(".loaderi").removeClass("loading")}function recentSlick(){$("#content-recente").slick({infinite:!1,slidesToShow:4,slidesToScroll:4,rtl:isRtl,responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1}},,{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:568,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:320,settings:{slidesToShow:2,slidesToScroll:2}}]})}function viewedSlick(){$("#search-viewd").slick({infinite:!1,slidesToShow:4,slidesToScroll:4,rtl:isRtl,responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1}},,{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:568,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:420,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:320,settings:{slidesToShow:1,slidesToScroll:1}}]})}function closePoputifsuccess(){location.reload()}function loadDetails(){$(".loadCnter").addClass("fetching"),$.get(user_details_info_url,function(e){if($(".loadCnter").removeClass("fetching"),"0"!=e)switch(user_defined=!0,$("#no_userli").html(e),userCase){case"report":case"mortgage":case"submit_property":$(current_val_k).click();break;case"email2":$("#frm_ctnt1").submit();break;case"email":$(current_val_k).click();break;case"oemail":var t;void 0!==(t=$(current_val_k).attr("data-email"))&&($(current_val_k).removeAttr("onclick"),o=t,$(current_val_k).attr("href","mailto:"+o),$(current_val_k).html(o));break;case"whatsapp":if(void 0!==(o=$(current_val_k).attr("data-href"))){$(current_val_k).removeAttr("onclick");var i=o;$(current_val_k).attr("href",i),$(current_val_k).click()}break;case"call":var o;void 0!==(o=$(current_val_k).attr("data-phone"))&&(savestatist("C",$(current_val_k).attr("data-prop")),$(current_val_k).removeAttr("onclick"),i=Base64.decode(o),$(current_val_k).attr("href","tel:"+i),$(current_val_k).hasClass("tooltipm")?($(current_val_k).find(".nm-cls").html(i),$(current_val_k).addClass("dynamicopt"),setTimeout(function(){$(current_val_k).removeClass("dynamicopt")},3e3)):($(current_val_k).hasClass("mob-not-fetc")||($(current_val_k).addClass("dir-ltr"),$(current_val_k).html(i)),setTimeout(function(){$(current_val_k).click()},500)))}})}function autocompleteLocation2JSONn(e,t){autoComplete2n=[],""!=selected_text?$.each(autoComplete2,function(e,t){selected_text.trim()==t.state.trim()&&autoComplete2n.push(t)}):autoComplete2n=autoComplete2,createAutocompleteNormaln(e,t)}function createAutocompleteNormaln(e,t){$("#"+e).autocomplete({lookup:autoComplete2n,minChars:1,lookupLimit:40,autoSelectFirst:!1,appendTo:"#"+t,onSelect:function(t){$("#"+e).val(t.name).change()},formatResult:function(e){return"<span class='suggestion-wrapper'><span class='suggestion-value'>"+e.name+"</span><span class='sub-text'>"+e.state+"</span></span>"}})}function getSelecttedText(e,t,i){$(function(){selected_text=""!=$(e).val()?$(e).find(" option:selected").text():"",autocompleteLocation2JSONn(t,i)})}function autocompleteCity(){$("#city_d").autocomplete({serviceUrl:load_city_ajax,minChars:0,autoSelectFirst:!1,appendTo:"#city_d_a",onSearchStart:function(){},onSelect:function(e){$("#state").val()!=e.label&&(st_slug=e.value,$("#city_d").val(e.value),$("#state").val(e.label).change())},onHide:function(){"#city_d".closest(".input-groupn").removeClass("opendH")},formatResult:function(e){return"<span class='suggestion-wrapper'><span class='sub-text'>"+e.value+"</span></span>"}})}function autocompleteLocation(){$("#word").autocomplete({serviceUrl:load_location_ajax,minChars:1,autoSelectFirst:!1,appendTo:"#keyword_a",onSelect:function(e){$("#word_hidden").val(e.value2).change()},formatResult:function(e){return"<span class='suggestion-wrapper'><span class='suggestion-value'>"+e.value+"</span><span class='sub-text'>"+e.label+"</span></span>"}})}function autocompleteLocation2(e,t){$("#"+e).autocomplete({serviceUrl:load_location_ajax,minChars:1,autoSelectFirst:!1,appendTo:"#"+t,onSelect:function(e){},formatResult:function(e){return"<span class='suggestion-wrapper'><span class='suggestion-value'>"+e.value+"</span><span class='sub-text'>"+e.label+"</span></span>"}})}function checkImputVal(e){setTimeout(function(){$(e).val()!=st_slug&&$(e).val(st_slug)},500)}function timuteChange(){setTimeout(function(){search_byAjax()},500)}function setColr(e){setTimeout(function(){""!=$(e).val()?$(e).closest(".input-group").addClass("itmSelected"):$(e).closest(".input-group").removeClass("itmSelected")},500)}$(function(){$.fancybox.defaults.hash=!1,closeOutside()}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"function"==typeof require?e(require("jquery")):e(jQuery)}(function(e){"use strict";var t={escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(e){var t=document.createElement("div");return t.className=e,t.style.position="absolute",t.style.display="none",t}};function i(t,o){var n=function(){},s={ajaxSettings:{},autoSelectFirst:!1,appendTo:document.body,serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:i.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:n,onSearchComplete:n,onSearchError:n,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(e,t,i){return-1!==e.value.toLowerCase().indexOf(i)},paramName:"query",transformResult:function(t){return"string"==typeof t?e.parseJSON(t):t},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1};this.element=t,this.el=e(t),this.suggestions=[],this.badQueries=[],this.selectedIndex=-1,this.currentValue=this.element.value,this.intervalId=0,this.cachedResponse={},this.onChangeInterval=null,this.onChange=null,this.isLocal=!1,this.suggestionsContainer=null,this.noSuggestionsContainer=null,this.options=e.extend({},s,o),this.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},this.hint=null,this.hintValue="",this.selection=null,this.initialize(),this.setOptions(o)}i.utils=t,e.Autocomplete=i,i.formatResult=function(e,i){var o="("+t.escapeRegExChars(i)+")";return e.value.replace(new RegExp(o,"gi"),"<strong>$1</strong>")},i.prototype={killerFn:null,initialize:function(){var t,o=this,n="."+o.classes.suggestion,s=o.classes.selected,a=o.options;o.element.setAttribute("autocomplete","off"),o.killerFn=function(t){0===e(t.target).closest("."+o.options.containerClass).length&&(o.killSuggestions(),o.disableKillerFn())},o.noSuggestionsContainer=e('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),o.suggestionsContainer=i.utils.createNode(a.containerClass),(t=e(o.suggestionsContainer)).appendTo(a.appendTo),"auto"!==a.width&&t.width(a.width),t.on("mouseover.autocomplete",n,function(){o.activate(e(this).data("index"))}),t.on("mouseout.autocomplete",function(){o.selectedIndex=-1,t.children("."+s).removeClass(s)}),t.on("click.autocomplete",n,function(){o.select(e(this).data("index"))}),o.fixPositionCapture=function(){o.visible&&o.fixPosition()},e(window).on("resize.autocomplete",o.fixPositionCapture),o.el.on("keydown.autocomplete",function(e){o.onKeyPress(e)}),o.el.on("keyup.autocomplete",function(e){o.onKeyUp(e)}),o.el.on("blur.autocomplete",function(){o.onBlur()}),o.el.on("focus.autocomplete",function(){o.onFocus()}),o.el.on("change.autocomplete",function(e){o.onKeyUp(e)}),o.el.on("input.autocomplete",function(e){o.onKeyUp(e)})},onFocus:function(){this.fixPosition(),this.options.minChars<=this.el.val().length&&this.onValueChange()},onBlur:function(){this.enableKillerFn()},setOptions:function(t){var i=this.options;e.extend(i,t),this.isLocal=e.isArray(i.lookup),this.isLocal&&(i.lookup=this.verifySuggestionsFormat(i.lookup)),i.orientation=this.validateOrientation(i.orientation,"bottom"),e(this.suggestionsContainer).css({"max-height":i.maxHeight+"px",width:i.width+"px","z-index":i.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){this.disabled=!0,clearInterval(this.onChangeInterval),this.currentRequest&&this.currentRequest.abort()},enable:function(){this.disabled=!1},fixPosition:function(){var t=e(this.suggestionsContainer),i=t.parent().get(0);if(i===document.body||this.options.forceFixPosition){var o=this.options.orientation,n=t.outerHeight(),s=this.el.outerHeight(),a=this.el.offset(),l={top:a.top,left:a.left};if("auto"===o){var r=e(window).height(),c=e(window).scrollTop(),u=-c+a.top-n,d=c+r-(a.top+s+n);o=Math.max(u,d)===u?"top":"bottom"}if(l.top+="top"===o?-n:s,i!==document.body){var p,h=t.css("opacity");this.visible||t.css("opacity",0).show(),p=t.offsetParent().offset(),l.top-=p.top,l.left-=p.left,this.visible||t.css("opacity",h).hide()}"auto"===this.options.width&&(l.width=this.el.outerWidth()-2+"px"),t.css(l)}},enableKillerFn:function(){e(document).on("click.autocomplete",this.killerFn)},disableKillerFn:function(){e(document).off("click.autocomplete",this.killerFn)},killSuggestions:function(){var e=this;e.stopKillSuggestions(),e.intervalId=window.setInterval(function(){e.hide(),e.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var e,t=this.el.val().length,i=this.element.selectionStart;return"number"==typeof i?i===t:!document.selection||((e=document.selection.createRange()).moveStart("character",-t),t===e.text.length)},onKeyPress:function(e){if(this.disabled||this.visible||40!==e.which||!this.currentValue){if(!this.disabled&&this.visible){switch(e.which){case 27:this.el.val(this.currentValue),this.hide();break;case 39:if(this.hint&&this.options.onHint&&this.isCursorAtEnd()){this.selectHint();break}return;case 9:if(this.hint&&this.options.onHint)return void this.selectHint();if(-1===this.selectedIndex)return void this.hide();if(this.select(this.selectedIndex),!1===this.options.tabDisabled)return;break;case 13:if(-1===this.selectedIndex)return void this.hide();this.select(this.selectedIndex);break;case 38:this.moveUp();break;case 40:this.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}}else this.suggest()},onKeyUp:function(e){var t=this;if(!t.disabled){switch(e.which){case 38:case 40:return}clearInterval(t.onChangeInterval),t.currentValue!==t.el.val()&&(t.findBestHint(),t.options.deferRequestBy>0?t.onChangeInterval=setInterval(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())}},onValueChange:function(){var t,i=this.options,o=this.el.val(),n=this.getQuery(o);this.selection&&this.currentValue!==n&&(this.selection=null,(i.onInvalidateSelection||e.noop).call(this.element)),clearInterval(this.onChangeInterval),this.currentValue=o,this.selectedIndex=-1,i.triggerSelectOnValidInput&&-1!==(t=this.findSuggestionIndex(n))?this.select(t):n.length<i.minChars?this.hide():this.getSuggestions(n)},findSuggestionIndex:function(t){var i=-1,o=t.toLowerCase();return e.each(this.suggestions,function(e,t){if(t.value.toLowerCase()===o)return i=e,!1}),i},getQuery:function(t){var i,o=this.options.delimiter;return o?(i=t.split(o),e.trim(i[i.length-1])):t},getSuggestionsLocal:function(t){var i,o=this.options,n=t.toLowerCase(),s=o.lookupFilter,a=parseInt(o.lookupLimit,10);return i={suggestions:e.grep(o.lookup,function(e){return s(e,t,n)})},a&&i.suggestions.length>a&&(i.suggestions=i.suggestions.slice(0,a)),i},getSuggestions:function(t){var i,o,n,s,a=this,l=a.options,r=l.serviceUrl;l.params[l.paramName]=t,o=l.ignoreParams?null:l.params,!1!==l.onSearchStart.call(a.element,l.params)&&(e.isFunction(l.lookup)?l.lookup(t,function(e){a.suggestions=e.suggestions,a.suggest(),l.onSearchComplete.call(a.element,t,e.suggestions)}):(a.isLocal?i=a.getSuggestionsLocal(t):(e.isFunction(r)&&(r=r.call(a.element,t)),n=r+"?"+e.param(o||{}),i=a.cachedResponse[n]),i&&e.isArray(i.suggestions)?(a.suggestions=i.suggestions,a.suggest(),l.onSearchComplete.call(a.element,t,i.suggestions)):a.isBadQuery(t)?l.onSearchComplete.call(a.element,t,[]):(a.currentRequest&&a.currentRequest.abort(),s={url:r,data:o,type:l.type,dataType:l.dataType},e.extend(s,l.ajaxSettings),a.currentRequest=e.ajax(s).done(function(e){var i;a.currentRequest=null,i=l.transformResult(e),a.processResponse(i,t,n),l.onSearchComplete.call(a.element,t,i.suggestions)}).fail(function(e,i,o){l.onSearchError.call(a.element,t,e,i,o)}))))},isBadQuery:function(e){if(!this.options.preventBadQueries)return!1;for(var t=this.badQueries,i=t.length;i--;)if(0===e.indexOf(t[i]))return!0;return!1},hide:function(){this.visible=!1,this.selectedIndex=-1,clearInterval(this.onChangeInterval),e(this.suggestionsContainer).hide(),this.signalHint(null)},suggest:function(){if(0!==this.suggestions.length){var t,i,o=this.options,n=o.groupBy,s=o.formatResult,a=this.getQuery(this.currentValue),l=this.classes.suggestion,r=this.classes.selected,c=e(this.suggestionsContainer),u=e(this.noSuggestionsContainer),d=o.beforeRender,p="";o.triggerSelectOnValidInput&&-1!==(i=this.findSuggestionIndex(a))?this.select(i):(e.each(this.suggestions,function(e,i){n&&(p+=function(e,i){var o=e.data[n];return t===o?"":'<div class="autocomplete-group"><strong>'+(t=o)+"</strong></div>"}(i)),p+='<div class="'+l+'" data-index="'+e+'">'+s(i,a)+"</div>"}),this.adjustContainerWidth(),u.detach(),c.html(p),e.isFunction(d)&&d.call(this.element,c),this.fixPosition(),c.show(),o.autoSelectFirst&&(this.selectedIndex=0,c.scrollTop(0),c.children().first().addClass(r)),this.visible=!0,this.findBestHint())}else this.options.showNoSuggestionNotice?this.noSuggestions():this.hide()},noSuggestions:function(){var t=e(this.suggestionsContainer),i=e(this.noSuggestionsContainer);this.adjustContainerWidth(),i.detach(),t.empty(),t.append(i),this.fixPosition(),t.show(),this.visible=!0},adjustContainerWidth:function(){var t,i=this.options,o=e(this.suggestionsContainer);"auto"===i.width&&(t=this.el.outerWidth()-2,o.width(t>0?t:300))},findBestHint:function(){var t=this.el.val().toLowerCase(),i=null;t&&(e.each(this.suggestions,function(e,o){var n=0===o.value.toLowerCase().indexOf(t);return n&&(i=o),!n}),this.signalHint(i))},signalHint:function(t){var i="";t&&(i=this.currentValue+t.value.substr(this.currentValue.length)),this.hintValue!==i&&(this.hintValue=i,this.hint=t,(this.options.onHint||e.noop)(i))},verifySuggestionsFormat:function(t){return t.length&&"string"==typeof t[0]?e.map(t,function(e){return{value:e,data:null}}):t},validateOrientation:function(t,i){return t=e.trim(t||"").toLowerCase(),-1===e.inArray(t,["auto","bottom","top"])&&(t=i),t},processResponse:function(e,t,i){var o=this.options;e.suggestions=this.verifySuggestionsFormat(e.suggestions),o.noCache||(this.cachedResponse[i]=e,o.preventBadQueries&&0===e.suggestions.length&&this.badQueries.push(t)),t===this.getQuery(this.currentValue)&&(this.suggestions=e.suggestions,this.suggest())},activate:function(t){var i,o=this.classes.selected,n=e(this.suggestionsContainer),s=n.find("."+this.classes.suggestion);return n.find("."+o).removeClass(o),this.selectedIndex=t,-1!==this.selectedIndex&&s.length>this.selectedIndex?(i=s.get(this.selectedIndex),e(i).addClass(o),i):null},selectHint:function(){var t=e.inArray(this.hint,this.suggestions);this.select(t)},select:function(e){this.hide(),this.onSelect(e)},moveUp:function(){if(-1!==this.selectedIndex)return 0===this.selectedIndex?(e(this.suggestionsContainer).children().first().removeClass(this.classes.selected),this.selectedIndex=-1,this.el.val(this.currentValue),void this.findBestHint()):void this.adjustScroll(this.selectedIndex-1)},moveDown:function(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function(t){var i=this.activate(t);if(i){var o,n,s,a=e(i).outerHeight();o=i.offsetTop,s=(n=e(this.suggestionsContainer).scrollTop())+this.options.maxHeight-a,o<n?e(this.suggestionsContainer).scrollTop(o):o>s&&e(this.suggestionsContainer).scrollTop(o-this.options.maxHeight+a),this.options.preserveInput||this.el.val(this.getValue(this.suggestions[t].value)),this.signalHint(null)}},onSelect:function(t){var i=this.options.onSelect,o=this.suggestions[t];this.currentValue=this.getValue(o.value),this.currentValue===this.el.val()||this.options.preserveInput||this.el.val(this.currentValue),this.signalHint(null),this.suggestions=[],this.selection=o,e.isFunction(i)&&i.call(this.element,o)},getValue:function(e){var t,i,o=this.options.delimiter;return o?1===(i=(t=this.currentValue).split(o)).length?e:t.substr(0,t.length-i[i.length-1].length)+e:e},dispose:function(){this.el.off(".autocomplete").removeData("autocomplete"),this.disableKillerFn(),e(window).off("resize.autocomplete",this.fixPositionCapture),e(this.suggestionsContainer).remove()}},e.fn.autocomplete=e.fn.devbridgeAutocomplete=function(t,o){return 0===arguments.length?this.first().data("autocomplete"):this.each(function(){var n=e(this),s=n.data("autocomplete");"string"==typeof t?s&&"function"==typeof s[t]&&s[t](o):(s&&s.dispose&&s.dispose(),s=new i(this,t),n.data("autocomplete",s))})}});var ps,infoscreen="",bounds2="";function initMap3(e,t,i,o){infoscreen=e,setTimeout(function(){var i={lat:temp_lat,lng:temp_lng};map=new google.maps.Map(document.getElementById(e),{center:i,zoom:13,disableDefaultUI:!0,mapTypeControl:!1,scaleControl:!0,zoomControl:!0,disableAutoPan:!0,fullScreenControl:!1,draggable:!0,gestureHandling:"greedy"}),latlng=new google.maps.LatLng(temp_lat,temp_lng),placeMarker(latlng),infowindow=new google.maps.InfoWindow,new google.maps.places.PlacesService(map).nearbySearch({location:i,radius:3500,type:[t]},callback),map.addListener("idle",()=>{bounds2=map.getBounds(),$("#g-"+infoscreen+"-info").html(""),callback2(ps,map)},1500)})}function callback2(e,t){if(e)for(var i="",o=0;o<e.length;o++)if(""!=bounds2&&bounds2.contains(e[o].geometry.location)){var n="p_"+o,s="";null!=e[o].rating&&(s+='<span class="g-ratingg-rating">'+e[o].rating+" <b>rating</b> </span>"),i='<li id="'+n+'" onclick="thrig(this)"><span class="g-icon"></span><span class="g-more-info"><span class="g-name">'+e[o].name+s+"</span></span></li>",$("#g-"+infoscreen+"-info").append(i),createMarker(e[o],n)}}function callback(e,t){if($("#g-"+infoscreen+"-info").addClass("unload"),t===google.maps.places.PlacesServiceStatus.OK){ps=e;for(var i="",o=0;o<e.length;o++){console.log(e[o]);var n="p_"+o,s="";null!=e[o].rating&&(s+='<span class="g-ratingg-rating">'+e[o].rating+" <b>rating</b> </span>"),i='<li id="'+n+'" onclick="thrig(this)"><span class="g-icon"></span><span class="g-more-info"><span class="g-name">'+e[o].name+s+"</span></span></li>",$("#g-"+infoscreen+"-info").append(i),createMarker(e[o],n)}}}function thrig(e){var t=$(e).attr("id"),i=new google.maps.InfoWindow({content:nam[t],zIndex:parseInt(t)});console.log(mak[t]),i.open(map,mak[t])}var mak=[],nam=[],markersArray2=[];function createMarker(e,t){var i={path:"M-20,0a20,20 0 1,0 40,0a20,20 0 1,0 -40,0",fillColor:"#34A853",fillOpacity:1,anchor:new google.maps.Point(0,0),strokeWeight:0,scale:.3};o=(e.geometry.location,new google.maps.Marker({map:map,icon:i,position:e.geometry.location})),o.infowindow=new google.maps.InfoWindow({content:e.name}),mak[t]=o,nam[t]=e.name,$("#"+t),google.maps.event.addListener(o,"click",function(){this.infowindow.open(map,this)})}function changeViewN2(e){var t=$(e).attr("data-val");"map"!=t&&($(".viewersp").removeClass("active"),$(e).addClass("active"),$("#d_column").removeClass("list"),$("#d_column").removeClass("grid"),$("#d_column").addClass(t),$(".single-item").hasClass("slick-initialized")&&($(".single-item").slick("destroy"),caroselSingle3())),$.get(list_view_url,{val:t},function(){"map"==t&&window.location.reload(!0)})}function changeViewN4(e){var t=$(e).attr("data-val");$.get(list_view_url,{val:t},function(){window.location.reload(!0)})}function changeOrderN2(e){var t=$(e).attr("data-val");void 0!==t&&($("#sort_val").val(t),search_byAjax())}function getUrl2(){var e=$("#state").val();return FindCities+"/state/"+e}function findCities2(){$.typeahead({input:".js-typeahead-user_v2",minLength:0,order:"asc",dynamic:!0,delay:500,backdrop:{"background-color":"#fff"},template:function(e,t){return'<span class="row1"><span class="username">{{username}} </span><span class="id bltClss"  >{{country}}</span></span>'},emptyTemplate:"<span class='nresults'>no result for <span class=filtrquery> {{query}} </span></span>"+searchbtn,source:{user:{display:["username","id"],ajax:function(e){return{type:"GET",url:getUrl2(),path:"data.user",data:{q:"{{query}}"}}}}},callback:{onClick:function(e,t,i,o){""!=i.city_id&&$("#locality").val(i.city_id),""!=i.state_id&&$("#state").val(i.state_id).change()},onCancel:function(e,t,i,o){},onSendRequest:function(e,t){console.log("request is sent")},onReceiveRequest:function(e,t){console.log("request is received")}},debug:!0})}function submitKeyword(){$("#locality").val(""),$("#word").val($("#js-typeahead-user_v2").val()),search_byAjax()}function getUrlh(){var e=$("#tab-home-srch").find(".active").find("#state").val();return FindCitiesh+"/state/"+e}function findCitiesh(){$.typeahead({input:".js-typeahead-user_v2#location",minLength:0,searchOnFocus:!0,dynamic:!0,delay:500,backdrop:{"background-color":"#fff"},template:function(e,t){return'<span class="row1"><span class="username">{{username}} </span><span class="id bltClss"  >{{country}}</span></span>'},emptyTemplate:"<span class='nresults'>no result for <span class=filtrquery> {{query}} </span></span>",source:{user:{display:["username","id"],ajax:function(e){return{type:"GET",url:getUrlh(),path:"data.user",data:{q:"{{query}}"}}}}},callback:{onClick:function(e,t,i,o){var n=$("#tab-home-srch").find(".active");""!=i.city_id&&n.find("#locality").val(i.city_id),""!=i.state_id&&n.find("#state").val(i.state_id).change()},onCancel:function(e,t,i,o){var n=$("#tab-home-srch").find(".active");n.find("#locality").val(""),n.find("#state").val("").change()},onSendRequest:function(e,t){console.log("request is sent")},onReceiveRequest:function(e,t){console.log("request is received")}},debug:!0})}function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function convertToNormalNumber(e){return e=String(e),parseFloat(e.replace(/,/g,""))}function calculate(){document.getElementById("total_prce_v");var e=document.getElementById("total_prce_v"),t=document.getElementById("interest_rate_v"),i=document.getElementById("down_payment_v"),o=document.getElementById("loan_period_v");document.getElementById("payment"),document.getElementById("total"),document.getElementById("totalinterest"),$down_payment_v=convertToNormalNumber(e.value)*(convertToNormalNumber(i.value)/100),$loan_amount=convertToNormalNumber(e.value)-convertToNormalNumber($down_payment_v);var n=parseFloat($loan_amount),s=parseFloat(convertToNormalNumber(t.value))/100/12,a=12*parseFloat(o.value),l=Math.pow(1+s,a),r=n*l*s/(l-1);return $("#down_payment_v_t").val(numberWithCommas($down_payment_v)),$("#total_html").html(numberWithCommas(n.toFixed(0))),$("#monthly_pay").html(numberWithCommas(r.toFixed(0))),$("#total_prce_v").val(numberWithCommas(convertToNormalNumber(e.value))),!1}function getLenders(e,t,i,o){}function inititalizeInterestSlider(){$("input#interest_rate").rangeslider({polyfill:!1,onInit:function(){},onSlide:function(e,t){$("#interest_rate_v").val(t).change()}})}function initializeDownPAyment(){$("input#down_payment").rangeslider({polyfill:!1,onInit:function(){},onSlide:function(e,t){$("#down_payment_v").val(t).change()}})}function setPackage2(e){var t=$(e).find(":selected"),i=t.attr("data-bank_id"),o=t.attr("data-bank-name");$("#bank_id").val(i),$("#bnk_name").html(o);var n=t.attr("data-interest"),s=t.attr("data-down");$("input#interest_rate").rangeslider("destroy"),$("#interest_rate").val(n),$("#interest_rate_v").val(n),inititalizeInterestSlider(),$("input#down_payment").rangeslider("destroy"),$("#down_payment").val(s),$("#down_payment_v").val(s),initializeDownPAyment(),calculate()}function setPackage(e){$("._25ff1ae0").removeClass("active"),$(e).find("._25ff1ae0").addClass("active");var t=$(e).attr("data-bank_id"),i=$(e).attr("data-bank-name");$("#bank_id").val(t),$("#bnk_name").html(i);var o=$(e).attr("data-interest"),n=$(e).attr("data-down");$("input#interest_rate").rangeslider("destroy"),$("#interest_rate").val(o),$("#interest_rate_v").val(o),inititalizeInterestSlider(),$("input#down_payment").rangeslider("destroy"),$("#down_payment").val(n),$("#down_payment_v").val(n),initializeDownPAyment(),calculate()}function OpenApplication(){$("#myModal6").modal("show"),$("#cn_application").html("<div style='position:relative;min-height: 200px;'><div class='loading '><div class='spinner rmsdf'><div class='bounce1'></div>  <div class='bounce2'></div>  <div class='bounce3'></div></div><div class='clearfix'></div></div></div>"),$.get(application_form_url+"/bank_id/"+$("#bank_id").val()+"/down_payment/"+$("#down_payment_v_t").val()+"/total_loan/"+$("#total_html").html()+"/loan_period/"+$("#loan_period_v").val()+"/interest_rate/"+$("#interest_rate_v").val(),function(e){$("#cn_application").html(e)})}function caroselSingle3(){var e=$(".single-item").not(".slick-initialized.single-item");e.length>=1&&$.each(e,function(){var e=$(this),t=e.parent().parent().find(".arws");e.slick({lazyLoad:"ondemand",dots:!1,slidesToShow:1,rtl:isRtl,swipe:!0,slidesToScroll:1,appendArrows:t}),e.on("beforeChange",function(e,t,i,o){i!==o&&lazyBgImg($(t.$slides.get(o)))})})}function caroselSingle2(e,t){var i=$("#"+e).find(".single-item");if(null!=i){i.slick({lazyLoad:"ondemand",dots:!0,slidesToShow:1,rtl:!1,slidesToScroll:1,appendArrows:"#"+e+" .arws",appendDots:"#"+e+" .dots"});var o=e;null==t?$(window).resize(function(){$("#"+e).find(".single-item").slick("resize")}):$("#"+o).find(".single-item").on("beforeChange",function(e,t,i,o){i!==o&&lazyBgImg($(t.$slides.get(o)))})}}function openPropertyTypeSale(){$.typeahead({input:".js-typeahead-game_v1#property_type",minLength:0,searchOnFocus:!0,order:"asc",hint:!1,group:!0,highlight:!0,maxItemPerGroup:16,dropdownFilter:title_sale,order:null,maxItemPerGroup:16,maxItem:0,groupOrder:null,source:src_sale_type,callback:{onClick:function(e,t,i,o){$(".proptypsale").addClass("openValed"),$(".proptypsale").find("#type_of_s").val(i.id)},onCancel:function(e,t,i,o){$(".proptypsale").removeClass("openValed")}}})}function openPropertyTypeRent(){$.typeahead({input:".js-typeahead-game_v1#property_type_rent",minLength:0,searchOnFocus:!0,order:"asc",hint:!1,group:!0,highlight:!0,maxItemPerGroup:16,dropdownFilter:title_rent,order:null,maxItemPerGroup:16,maxItem:0,groupOrder:null,source:src_rent_type,callback:{onClick:function(e,t,i,o){$(".proptyprent").addClass("openValed"),$(".proptyprent").find("#type_of_r").val(i.id)},onCancel:function(e,t,i,o){$(".proptyprent").removeClass("openValed")}}})}function openPropertyTypeListing(){$.typeahead({input:".js-typeahead-game_v1#property_type_rent",minLength:0,searchOnFocus:!0,order:"asc",hint:!1,group:!0,highlight:!0,maxItemPerGroup:16,dropdownFilter:title_rent,order:null,maxItemPerGroup:16,maxItem:0,groupOrder:null,source:src_rent_type,callback:{onClick:function(e,t,i,o){$(".proptyprent").addClass("openValed"),$(".proptyprent").find("#type_of").val(i.id)},onCancel:function(e,t,i,o){$(".proptyprent").removeClass("openValed")}}}),$(".js-typeahead-game_v1#property_type_rent").val()}function setThisBathroomVal(e){var t=$(e).attr("data-value");$(".BathCls").find(".btnDefault").removeClass("btnSecondary"),$(e).addClass("btnSecondary"),$("#bath_val").val(t).change()}function setThisBedroomVal(e){var t=$(e).attr("data-value");$(".bedCls").find(".btnDefault").removeClass("btnSecondary"),$(e).addClass("btnSecondary"),$("#bed_val").val(t).change()}function propertytypechange(e,t){t.preventDefault(),t.stopPropagation();var i=$(e).val(),o=$(e).closest(".proptyp");o.find(".pbs.category_tt:not(.cat_"+i+")").removeClass("opene"),o.find(".pbs.category_tt.cat_"+i).toggleClass("opene"),console.log(i)}function openClassAdd(e){$(function(){$("."+e).addClass("opene")})}function propertytypechange1(e,t){t.preventDefault(),t.stopPropagation();var i=$(e).val(),o=$(e).closest(".proptyp");o.find(".pbs.category_tt:not(.cat_"+i+")").removeClass("opene"),o.find(".pbs.category_tt.cat_"+i).toggleClass("opene"),console.log(i)}function search_byAjaxsub(e){mainListUrl=$(e).attr("data-mailistUrl"),search_byAjax()}function setRent_paid_value(e){$("#rent_paid").val($(e).val())}function search_byAjax11(e){mainListUrl=$(e).attr("data-mainlistUrl"),search_byAjax()}function closeOpened(e){$(e).removeClass("opened"),console.log("leaved")}function easyload2Marker(e,t){ajax_location=window.location.href,ajax_title=document.title,ajax_body_id="listing",document.getElementById(e),$("#"+e).addClass("active-view");var i=t;NProgress.start(),$.pjax({url:i,container:"#"+e,timeout:11e4,scrollTo:!1,cache:!1}).complete(function(){NProgress.done(),$("form.recapt").length>0&&onloadCallback()})}function toggleClsth(e){$(e).toggleClass("openselector")}function closetoggleClsth(e){$(e).removeClass("openselector")}function fancyvlgroup(){$('[data-fancybox="vl-group"]').fancybox({thumbs:{autoStart:!0,axis:"x",hideOnClose:!0},baseClass:"fancybox-custom-layout",infobar:!1,touch:{vertical:!1},buttons:["close","thumbs"],animationEffect:"fade",transitionEffect:"fade",preventCaptionOverlap:!1,idleTime:!1,gutter:0})}function openVideoFram(){return $('[data-fancybox="vl-group"]').click(),!1}function OpenApplication2(e){$("#myModal3").modal("show"),$("#raw_ht_ml").html("<div style='position:relative;min-height: 200px;'><div class='loading '><div class='spinner rmsdf'><div class='bounce1'></div>  <div class='bounce2'></div>  <div class='bounce3'></div></div><div class='clearfix'></div></div></div>");var t=$(e).attr("data-url");$("#raw_ht_ml").html('<iframe id="ifrm"   class="mframe" ></iframe>'),document.getElementById("ifrm").src=t}function closeIFrameD(){$("#ifrm").remove(),$("#myModal3").modal("hide")}function OpenSignupRequiredNew(e){if(!user_defined)return current_val_k=e,userCase="mortgage",OpenLogin(e),!1;var t=$(e).attr("data-nextclick");void 0!==$("#post-property")&&$("#post-property").submit(),void 0===t?$("#signin-form").submit():("1"==t&&setTimeout(function(){OpenApplication2(e)},500),"2"==t&&setTimeout(function(){OpenApplication(e)},500))}function openFaboxFloorPlan(){console.log("fancy"),$('[data-fancybox1="normal-group"]').fancybox({thumbs:{autoStart:!0,axis:"x",hideOnClose:!0},baseClass:"fancybox-custom-layout",infobar:!1,touch:{vertical:!1},buttons:["zoom","close","thumbs"],animationEffect:"fade",transitionEffect:"fade",preventCaptionOverlap:!1,idleTime:!1,gutter:0,mobile:{clickContent:"close",clickSlide:"close"}}),$('[data-fancybox1="d-group"]').fancybox({thumbs:{autoStart:!0,axis:"x",hideOnClose:!0},baseClass:"fancybox-custom-layout",infobar:!1,touch:{vertical:!1},buttons:["zoom","close","thumbs"],animationEffect:"fade",transitionEffect:"fade",preventCaptionOverlap:!1,idleTime:!1,gutter:0,mobile:{clickContent:"close",clickSlide:"close"}})}function Setthisinput(e){$(e).is(":checked")?($("#slickFrs").addClass("hide"),$("#slickFrs2").removeClass("hide")):($("#slickFrs2").addClass("hide"),$("#slickFrs").removeClass("hide"))}function florrPlanSlick(){"1"==$("#slickFrs2").length&&$("#slickFrs2").slick({infinite:!1,slidesToShow:4,rtl:isRtl,slidesToScroll:4,responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},,{breakpoint:767,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:580,settings:{slidesToShow:2,slidesToScroll:2}}]}),$("#slickFrs").slick({infinite:!1,slidesToShow:4,slidesToScroll:4,variableWidth:!1,dots:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:3}},{breakpoint:650,settings:{slidesToShow:2,slidesToScroll:3}},{breakpoint:380,settings:{slidesToShow:2,slidesToScroll:2}}]})}function fancyvlgroup2(){$('[data-fancybox="vl-normal"]').fancybox({thumbs:{autoStart:!0,axis:"x",hideOnClose:!0},baseClass:"fancybox-custom-layout",infobar:!1,touch:{vertical:!1},buttons:["close","thumbs"],animationEffect:"fade",transitionEffect:"fade",preventCaptionOverlap:!1,idleTime:!1,gutter:0})}function openVideoFram2(){return $("#vl-normal").click(),!1}function openListing(e,t){t.preventDefault();var i=$("body").attr("id");if($(".bttom-menu").find("a").removeClass("active"),$(e).addClass("active"),window.scrollTo(0,0),"listing"==i)return $("body").addClass("openfilter"),!1;$("body").addClass("openfilter"),$(e).attr("data-url"),easyload(e,t,"mainContainerClass")}function openListingMap(e,t){t.preventDefault();var i=$("body").attr("id");$.get(list_view_url,{val:"map"},function(){"listing"==i?window.location.reload(!0):easyload(e,t,"mainContainerClass")})}function openIframemap(){if($("html").addClass("ifrmaer"),!map_defined){map_defined=!0,initMap2(uniqumaplat,uniqumaplng);var e=new google.maps.LatLng(uniqumaplat,uniqumaplng);placeMarker(e)}}function closeMpframe(){$("html").removeClass("ifrmaer")}function toggleClassOp(e){$(e).closest(".navigation").toggleClass("open")}function fillInAddressn(){var e=autocomplete.getPlace(),t=e.geometry.location.lat(),i=e.geometry.location.lng();new google.maps.LatLng(t,i),$("#latitude").val(t),$("#longitude").val(i),$("#word").val("")}function unsetlats(){$("#latitude").val(""),$("#longitude").val(""),$("#word").val("")}function search_byAjax23n(){$("#word").val($("#js-typeahead-user_v2").val()),search_byAjax()}function initAutocomplete22(){var e=document.getElementById("js-typeahead-user_v2"),t={types:["geocode"],componentRestrictions:{country:cn_code}};autocomplete=new google.maps.places.Autocomplete(e,t),autocomplete.addListener("place_changed",fillInAddressn)}function nslider2(){$(document).ready(function(){$(".nslider").slick({slidesToShow:1,rtl:isRtl,slidesToScroll:1,dots:!1,arrows:!0,cssEase:"linear",asNavFor:".slider_dots,.property-slider-nav",responsive:[{breakpoint:768,settings:{arrows:!1}}]}),$(".slider_dots").slick({infinite:!1,slidesToShow:3,slidesToScroll:1,asNavFor:".nslider,.property-slider-nav",arrows:!1,rtl:isRtl,dots:!1,centerMode:!0,focusOnSelect:!0,centerPadding:"20%"}),$(".nslider").on("beforeChange", function(){$("#open_pop").addClass("openPopu")}),$(".slider_dots").on("beforeChange",function(e,t,i,o){$(" .slider_navigators").removeClass("prev1"),i>="0"&&$("#open_pop").addClass("openPopu"),i<o?(console.log(i),$(".slider_navigators").eq(i).addClass("prev1"),$(".slider_navigators").eq(o+1).addClass("prev1")):i>o&&($(".slider_navigators").eq(i-2).addClass("prev1"),$(".slider_navigators").eq(i).addClass("prev1"))}),$(".property-slider-nav").slick({slidesToShow:8,variableWidth:!1,slidesToScroll:8,rtl:isRtl,asNavFor:".nslider,.slider_dots",dots:!1,infinite:!1,centerMode:!1,focusOnSelect:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:8,slidesToScroll:8,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:480,settings:{slidesToShow:4,slidesToScroll:4}}]})})}function OpenContenContent(){$("#txttrim").removeClass("detail-desc")}function CloseContenContent(){$("#txttrim").addClass("detail-desc"),$("html,body").animate({scrollTop:$("#txttrim").offset().top},500)}function checkscriptHeight(){parseInt($("#txttrim").height())>290&&$("#txttrim").addClass("detail-desc conjusted")}function OpenSignupRequiredNewEmail(e){return $("#frm_ctnt1").submit(),!1}function checkscriptHeight2(){parseInt($("#txttrim").height())>116&&$("#txttrim").addClass("detail-desc conjusted")}function scroId(e){"mainContainerClass"==e&&(document.body.scrollTop=0,document.documentElement.scrollTop=0)}function arrowkeynav(){document.onkeydown=function(e){switch(e.keyCode){case 37:$(".nslider").find(".slick-prev").click();break;case 39:$(".nslider").find(".slick-next").click()}}}function initMapView(){var e,t,i,o=new google.maps.LatLngBounds,n=new google.maps.Map(document.getElementById("map-load"),{zoom:zoom,minZoom:5,center:{lat:my_latitude2,lng:my_logitude1},disableDefaultUI:!0,mapTypeControl:!1,scaleControl:!0,zoomControl:!0,fullScreenControl:!1,draggable:!0,gestureHandling:"greedy"});for(n.addListener("idle",function(){var t=n.getBounds(),i=(t.getCenter(),t.getCenter().lat()),o=t.getCenter().lng();boundsNeLatLng=t.getNorthEast(),boundsSwLatLng=t.getSouthWest(),boundaries={a:boundsSwLatLng.lat(),b:boundsSwLatLng.lng(),c:boundsNeLatLng.lat(),d:boundsNeLatLng.lng()};var s=t.getNorthEast(),a=t.getSouthWest();new google.maps.LatLng(s.lat(),a.lng()),new google.maps.LatLng(a.lat(),s.lng()),e?($("#a").val(boundsSwLatLng.lat()),$("#b").val(boundsSwLatLng.lng()),$("#c").val(boundsNeLatLng.lat()),$("#d").val(boundsNeLatLng.lng()),$("#lt").val(i),$("#lg").val(o),$("#zoom").val(n.getZoom()),search_byAjax1()):e=1}),infowindow=new google.maps.InfoWindow({maxWidth:200,disableAutoPan:!0}),i=0;i<locations.length;i++)t=new google.maps.Marker({position:new google.maps.LatLng(locations[i][1],locations[i][2]),map:n}),markerData.push(t),o.extend(t.position),google.maps.event.addListener(t,"click",function(e,t){return function(){easyload2Marker("details-page-container",locations[t][5]),infowindow.setContent(locations[t][0]),infowindow.open(n,e)}}(t,i)),google.maps.event.addListener(t,"mouseover",function(e,t){return function(){infowindow.setContent(locations[t][0]),infowindow.open(n,e)}}(t,i)),google.maps.event.addListener(t,"mouseout",function(){}),my_bound&&n.fitBounds(o);new MarkerClusterer(n,markerData,{imagePath:"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m"})}function getInfowindowOffset(e,t){var i,o=getPixelFromLatLng(e,e.getCenter()),n=getPixelFromLatLng(e,t.getPosition()),s="";return s+=n.y>o.y?"b":"t","tr"==(s+=n.x<o.x?"l":"r")?i=new google.maps.Size(-70,185):"tl"==s?i=new google.maps.Size(70,185):"br"==s?i=new google.maps.Size(-70,20):"bl"==s&&(i=new google.maps.Size(70,20)),i}function getPixelFromLatLng(e,t){return e.getProjection().fromLatLngToPoint(t)}function search_byAjax1(){var e=document.getElementById("leftColumn");formData=$("#frmId :input").serializeArray();var t,i="",o="",n="",s="?";$.each(formData,function(e,t){"sec1"==t.name||""!=t.value&&("sec"==t.name||("type_of"==t.name?i+="Property_"+t.value+"/":"state"==t.name?o+=t.value+"/":"locality"==t.name?n+="Locality_"+t.value+"/":s+="&"+t.name+"="+t.value))}),t=mainListUrl+i+o+n+s,NProgress.start(),$.pjax({url:t+"&pja=1",container:e,timeout:11e4,cache:!1}).complete(function(){NProgress.done()})}function onhoverShowProp(){}function checkScrollMpa(){currentPage++,offset=(currentPage-1)*limit,jQuery.ajax(slug+"&offset="+offset+"&limit="+limit+"&is_form=1",{data:{formData:encodeURIComponent($("#frmId").serialize())},asynchronous:!0,evalScripts:!0,method:"get",beforeSend:function(){scroll=!1,loadingDiv.html(loadingHtml)},success:function(e,t,i){loadingDiv.html(""),"1"==e?stopPagination=!1:(loadingDiv.html(loadMoreHtml),e=JSON.parse(e),$("#suggest_friends_last_id").before(e.dataHtml),caroselSingle3(),onhoverShowProp(),lozad().observe(),scroll=!0)}})}function fillInAddresshome(){var e=autocomplete.getPlace(),t=e.geometry.location.lat(),i=e.geometry.location.lng();new google.maps.LatLng(t,i),$("#latitude").val(t),$("#longitude").val(i),$("#word").val(e.address_components[0].long_name)}function fillInAddresshome2(){var e=autocomplete2.getPlace(),t=e.geometry.location.lat(),i=e.geometry.location.lng();new google.maps.LatLng(t,i),$("#latitude2").val(t),$("#longitude2").val(i),$("#word2").val(e.address_components[0].long_name)}function generateAutocom1(e){auto1||(auto1=!0,console.log("qwer"),loadmapscript(),console.log("1"))}function generateAutocom21(e){auto2||(auto2=!0,loadmapscript2(),console.log("1"))}function unsetlatshome(e){$("#latitude").val(""),$("#longitude").val(""),$("#word").val($(e).val())}function unsetlatshome2(e){$("#latitude2").val(""),$("#longitude2").val(""),$("#word2").val($(e).val())}function initAutocompleteHome(){var e=document.getElementById("js-typeahead-user_v2"),t={types:["geocode"],componentRestrictions:{country:cn_code}};autocomplete=new google.maps.places.Autocomplete(e,t),autocomplete.addListener("place_changed",fillInAddresshome)}function initAutocompleteHome2(){var e=document.getElementById("js-typeahead-user_v21"),t={types:["geocode"],componentRestrictions:{country:cn_code}};autocomplete2=new google.maps.places.Autocomplete(e,t),autocomplete2.addListener("place_changed",fillInAddresshome2)}function formatState11(e){if(!e.id)return e.text.toUpperCase();var t=$(e.element).attr("data-image");return console.log(t),t?$('<span><img src="'+t+'" width="60px" /> '+e.text.toUpperCase()+"</span>"):e.text.toUpperCase()}function mortFns(){$("input#total_prce").rangeslider({polyfill:!1,onInit:function(){},onSlide:function(e,t){$("#total_prce_v").val(t).change()}}),$("input#loan_period").rangeslider({polyfill:!1,onInit:function(){},onSlide:function(e,t){$("#loan_period_v").val(t).change()}}),$("#spl-select").select2({minimumResultsForSearch:-1,dropdownParent:$("#er-sld"),templateResult:formatState11,templateSelection:formatState11}),initializeDownPAyment(),inititalizeInterestSlider()}function OpenLoginM(e){$("#myModal3").modal("show"),$("#raw_ht_ml").html('<iframe id="ifrm"   class="mframe" ></iframe>'),document.getElementById("ifrm").src=login_option1}function OpenSubmitNew(e,t){if(t.preventDefault(),!user_defined)return current_val_k=e,userCase="submit_property",OpenLoginM(e),!1;location.href=$(e).attr("href")}function setAreaUnit(e){var t=$(e).attr("data-value");$("#st_title2").html(t),$(".home-home-type-areauunit").removeClass("opened")}function openFaboxFloorPlanCLick(){var e;return"1"==(e=$('[data-fancybox1="d-group"]:first')).length?(e.click(),!1):"1"==(e=$('[data-fancybox1="normal-group"]:first')).length?(e.click(),!1):void 0}function closeSelect2(e){$(e).toggleClass("opened")}function closeReviewPop(e){$("body").css({"overflow-y":"auto"}),$(".mobile_bottom_filter-review").removeClass("mobile_bottom_filter-review-opened")}function openReviewPop(e){$("body").css({"overflow-y":"hidden"}),$(".mobile_bottom_filter-review").addClass("mobile_bottom_filter-review-opened"),$("#emptyResults-review").addClass("hide"),offsetRev=0,currentPageRev=1,stopPaginationRev=!0,scrollRev=!1,$("#shortlist_items-review").html(""),checkScrollRev()}function checkScrollRev(){currentPageRev++,currentPageRev>2&&(offsetRev=(currentPageRev-2)*limitRev),jQuery.ajax(slugRev+"?offset="+offsetRev+"&limit="+limitRev+"&is_form=1",{data:{formData:""},asynchronous:!0,evalScripts:!0,method:"get",beforeSend:function(){scrollRev=!1,loadingDivRev.html(loadingHtmlRev)},success:function(e,t,i){loadingDivRev.html(""),"1"==e?("2"==currentPageRev&&$("#emptyResults-review").removeClass("hide"),stopPaginationRev=!1,$("#ldmore-review").html("")):(e=JSON.parse(e),$("#shortlist_items-review").append(e.dataHtml),$("#emptyResults-review").addClass("hide"),scrollRev=!0,"1"==e.future&&$("#ldmore-review").html(loadMoreHtmlRev))}})}function makeunfeatured(e){var t=$(e).attr("data-id");$.jAlert({type:"confirm",confirmQuestion:un_feat,confirmBtnText:yes_text,denyBtnText:no_text,onConfirm:function(e,i){e.preventDefault();var o=unfeatured_url+t;return void 0!==o&&($(".loaderi").html('<div class="cntr"><div class="loaderispin"></div></div><div class="bg"></div>'),$(".loaderi").addClass("loading"),$.get(o,function(e){$(".loaderi").html('<div class="contenth">'+e+'</div><div class="bg"></div>')})),!1},onDeny:function(e,t){return e.preventDefault(),t.parents(".jAlert").closeAlert(),!1}})}function setValuesFav(e){void 0!==e.total_favourite&&$(".dataCounter-fav").html(e.total_favourite)}function OpenEmailNew(e){var t=$(e).attr("data-email");if(null!=t){if(!user_defined)return current_val_k=e,userCase="oemail",OpenLogin(e),!1;$(e).removeAttr("onclick");var i=t;$(e).attr("href","mailto:"+i),$(e).html(i),$(e).click()}}function OpenFormClickNewFloorplan(e){if(!user_defined)return current_val_k=e,userCase="email",OpenLogin(e),!1;var t=$(e).attr("data-reactid");if(void 0===t)return!1;$("#myModal2").modal("show"),$("#cn_property").html("<div style='position:relative;min-height: 200px;'><div class='loading '><div class='spinner rmsdf'><div class='bounce1'></div>  <div class='bounce2'></div>  <div class='bounce3'></div></div><div class='clearfix'></div></div></div>"),$.get(propertyUrl+"/id/"+t+"/floor/1",function(e){$("#cn_property").html(e)})}function ajaxSubmitHappenlistfloor(e,t,i,o){i?alert("error"):$.ajax({type:"POST",url:o,data:e.serialize(),success:function(e){var t;e=JSON.parse(e),$("#requestBtn").length>0&&void 0!==(t=$("#requestBtn").attr("data-html"))&&($("#requestBtn").attr("disabled",!1),$("#requestBtn").html(t)),$("#bb2").length>0&&void 0!==(t=$("#bb2").attr("data-html"))&&($("#bb2").attr("disabled",!1),$("#bb2").html(t)),"1"==e.status?($("#topThirdPlacementLeadFormContainer.floor-pp").hide(),$(".rms-data-h.floor-pp").addClass("hide"),$(".success-modal.florr").addClass("visible"),Moveit.put(popGroup,{start:"0%",end:"0%",visibility:0}),Moveit.put(tick,{start:"0%",end:"0%",visibility:0}),Moveit.put(tick2,{start:"0%",end:"0%",visibility:0}),Moveit.put(circle,{start:"0%",end:"0%",visibility:0}),Moveit.animate(circle,{visibility:1,start:"0%",end:"100%",duration:1,delay:0,timing:"ease-out"}),Moveit.animate(tick,{visibility:1,start:"0%",end:"100%",duration:.2,delay:.5,timing:"ease-out"}),Moveit.animate(tick2,{visibility:1,start:"0%",end:"80%",duration:.2,delay:.7,timing:"ease-out"}),Moveit.animate(popGroup,{visibility:1,start:"20%",end:"60%",duration:.2,delay:1,timing:"ease-in"}).animate(popGroup,{visibility:1,start:"100%",end:"100%",duration:.2,delay:1.2,timing:"ease-in-out"})):($("#msg_alert").html(e.msg).show(),setTimeout(function(){$("#msg_alert").hide()},7e3))}})}function changemainlisturl(e){if(mainListUrl=$(e).attr("data-mailistUrl"),void 0!==$(e).attr("data-refresh"))return"0"==$(".openfilter").length&&search_byAjax(),!1}function setThisBathroomVal2(e){var t=$(e).attr("data-value");$(".cVSuZibbath").find(".iBaOPD").removeClass("btnSelected"),$(e).addClass("btnSelected"),$("#bath_val").val(t).change()}function setThisBedroomVal2(e){var t=$(e).attr("data-value");$(".cVSuZibed").find(".iBaOPD").removeClass("btnSelected"),$(e).addClass("btnSelected"),$("#bed_val").val(t).change()}function opencheckbox(e){if("property-for-sale"==$(e).val())$("#rent_paid_zero").prop("checked",!0),$("#checkbox-grid-1").removeClass("grid-opened");else{var t=$("#checkbox-grid-1").hasClass("grid-opened");$("#checkbox-grid-1").removeClass("grid-opened"),t?$("#checkbox-grid-1").removeClass("grid-opened"):$("#checkbox-grid-1").addClass("grid-opened")}}function opencheckbox2(e){var t=$(e).attr("data-id"),i=$("#checkbox-grid-"+t).hasClass("grid-opened");$(".checkbox-grid-property-type").removeClass("grid-opened"),i?$("#checkbox-grid-"+t).removeClass("grid-opened"):$("#checkbox-grid-"+t).addClass("grid-opened")}function openDropDown(e){var t=$(e).closest(".sectionFilter").hasClass("button_open");$(".sectionFilter").removeClass("button_open"),t?$(e).closest(".sectionFilter").removeClass("button_open"):$(e).closest(".sectionFilter").addClass("button_open")}function setMinimum(e){var t=$(e).attr("data-val");void 0!==t&&$("#price-exposed-min").val(t).change();}function setMaximum(e){var t=$(e).attr("data-val");void 0!==t&&$("#price-exposed-max").val(t).change();}function eventSrch(){$("#selct").select2({minimumResultsForSearch:-1}),$("#selct-area").select2({minimumResultsForSearch:-1}),$("#selct-city").select2({minimumResultsForSearch:-1}),$("body").click(function(e){$(e.target).closest(".sectionFilter").length>0?console.log("inside"):(console.log("oustside"),$(".sectionFilter").removeClass("button_open"))})}function closerfrm2(e){$("body").removeClass("openfilter"),setTimeout(function(){search_byAjax()},500)}function closeFilteronly(){$("body").removeClass("openfilter")}function setvalueSort(e){$('input:radio[name="sort"]').filter('[value="'+$(e).val()+'"]').attr("checked",!0).change()}function setvalueArea(e){$('input:radio[name="area_unit"]').filter('[value="'+$(e).val()+'"]').attr("checked",!0).change()}function setvalueCity(e){""==$(e).val()?$(".port-city").removeClass("sort-active"):$(".port-city").addClass("sort-active"),$('input:radio[name="state"]').filter('[value="'+$(e).val()+'"]').attr("checked",!0).change()}function getSelectedText(e){var t=$(e).attr("data-value");$("#sec_state_html").html(t),$("body").hasClass("openfilter")&&($("#city-button").addClass("filter-button_active-m"),$(".port-city").removeClass("button_open"))}function getSelectedText2(e){var t=$(e).attr("data-value");$("#sort_htm").html(t),$("body").hasClass("openfilter")&&($("#srt-sort-btn").addClass("filter-button_active-m"),$(".port-sort").removeClass("button_open"),"best-asc"!=$(e).val()?$(".port-sort").addClass("sort-active"):$(".port-sort").removeClass("sort-active"))}function OpenCallNewlatest(e){if(void 0!==$(e).attr("data-phone"))return showPhoneNumber(e),callstatistcsupdate(e),!1}var auto3,contentPhone="";function showPhoneNumber(e){var t=$(e).attr("data-phone"),i=$(e).attr("data-agent"),o=$(e).attr("data-ref"),n=contentPhone.replace("[PHONENUMBER]",t);n=(n=(n=n.replace("[PHONENUMBER]",t)).replace("[AGENTNAME]",i)).replace("[REFERENCENUMBER]",o),$.jAlert({title:Contact_title,content:n,theme:"dark_blue",size:"sm",showAnimation:"fadeInUp",hideAnimation:"fadeOutDown",closeBtn:!1,closeOnClick:!0,btns:[{text:Close_title}]})}function callstatistcsupdate(e){var t=$(e).attr("data-prop");$.get(call_statistics,{reactid:t},function(e){})}function OpenFavouriteNew(e){$(e).hasClass("active")?$(e).removeClass("active"):$(e).addClass("active");var t=$(e).attr("data-function"),i=$(e).attr("data-id"),o=$(e).attr("data-after");$.get(add_to_fav,{id:i,fun:t,after:o},function(e){if("1"==(e=JSON.parse(e)).status)if("saved_fave"==e.after){var t=$("#fav_button_"+e.id);if(""!=e.class){var i=parseInt($("#dataCounter").html());isNaN(i)||$(".dataCounter-fav").html(i+1)}else i=parseInt($("#dataCounter").html()),isNaN(i)||$(".dataCounter-fav").html(i-1)}else"saved_search"==e.after&&(t=$("#fav_button_url"),""!=e.class?(t.addClass("active"),t.html("Remove Search")):t.html("Save Search"),successAlert("Success!",e.message));else errorAlert("Success!",e.message)})}function slickopenDetail(){$(".simple-slick-carousel0").slick({infinite:!1,slidesToShow:3,slidesToScroll:1,rtl:isRtl,dots:!1,arrows:!0,autoplay:!0,autoplaySpeed:2e3,responsive:[{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:581,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:580,settings:{slidesToShow:1,slidesToScroll:1}}]})}function loadChart(){"undefined"==typeof Chart&&$(function(){var e=document.createElement("script"),t=document.createElement("script");document.getElementById("dynamicScripts").appendChild(e),document.getElementById("dynamicScripts").appendChild(t),e.src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.0/Chart.bundle.min.js",t.src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.0/Chart.min.js"})}function loadmapscript2(){if(console.log(1),"undefined"==typeof google){var e=document.createElement("script");document.getElementById("dynamicScripts").appendChild(e),e.src=mpaurl,e.onload=callbackds3,e.onreadystatechange=function(){callbackds3()}}else initAutocompleteHome2()}function loadmapscript(){if(console.log(1),"undefined"==typeof google){var e=document.createElement("script");document.getElementById("dynamicScripts").appendChild(e),e.src=mpaurl,e.onload=callbackds,e.onreadystatechange=function(){callbackds()}}else initAutocompleteHome()}function loadmapscript4(){if(console.log(1),"undefined"==typeof google){var e=document.createElement("script");document.getElementById("dynamicScripts").appendChild(e),e.src=mpaurl,e.onload=callbackds4,e.onreadystatechange=function(){callbackds4()}}else initAutocomplete22()}function callbackds(){console.log("google loaded"),initAutocompleteHome()}function callbackds3(){initAutocompleteHome2()}function callbackds4(){initAutocomplete22()}function generateAutocomlist(e){auto3||(auto3=!0,loadmapscript4())}function initMapLoad(e,t,i,o){if("undefined"==typeof google){var n=document.createElement("script");document.getElementById("dynamicScripts").appendChild(n),n.src=mpaurl,n.onload=callback5(e,t,i,o),n.onreadystatechange=function(){callback5(e,t,i,o)}}else initMap3(e,t,i,o)}function callback5(e,t,i,o){setTimeout(function(){initMap3(e,t,i,o)},500)}$(function(){contentPhone='<div class=" "><table class="phone-div-t margin-top-0"><tbody><tr class="phone-div-te"><td class="phone-div-ted">'+Phone_title+'</td><td class="phone-div-tedi bb5bc6c8"><a href="tel:[PHONENUMBER]" aria-label="Listing phone number" class="phone-div-tedif"><span dir="ltr">[PHONENUMBER]</span></a></td></tr>',contentPhone+='<tr class="phone-div-tedifga"><td class="phone-div-tedifgari"><span class="_43b797e3">'+Agent_title+'</span></td><td class="_463a00f0">[AGENTNAME]</td> </tr> </tbody> </table><span class="phone-div-tedifg text-center">'+CALLING_title+"</span></div>"});var lazyBgImg=function(e){$(e).find(".lazy-bg-img").each(function(e){var t=$(this);t.hasClass("is-lazy-loaded")||(t.addClass("is-lazy-loaded"),t.css("background-image","url("+t.attr("data-lazy")+")"),t.removeAttr("data-lazy"))})}
function getSelectedTextNew(k){
	 if($(k).is(':checked')){
		  
			 if($('.inpsCity:checked').length=='1'){
				  
				$('input:radio[name="state"]').filter('[value="'+$(k).val()+'"]'). prop('checked', true).change();
			} 
			else if($('.inpsCity:checked').length=='0'){
				$('input:radio[name="state"]').filter('[value=""]'). prop('checked', true).change();
			} 
		 
			 $('input.more-statefilter').filter('[value="'+$(k).val()+'"]'). prop('checked', true).change();
			 
			 
			 
	 }
	 else{
		 
		if($('.inpsCity:checked').length=='1'){
			var slected = $('.inpsCity:checked').val();
			 
			$('input:radio[name="state"]').filter('[value="'+slected+'"]').prop('checked', true).change();
			
		} 
		else if($('.inpsCity:checked').length=='0'){
			$('input:radio[name="state"]').filter('[value=""]'). prop('checked', true).change();
		}  
		 
			$('input.more-statefilter').filter('[value="'+$(k).val()+'"]').prop('checked', false).change();
		 
	 
	 }
	 
	var moreObj = $('input.more-statefilter:checked');
	var stateSel = $('input:radio[name="state"]:checked').val();
	var slected = $('.inpsCity:checked').val();
	
	if(moreObj.length==0){
		$('input[name="more"]').val('');
	}
	else{
		console.log(moreObj.length);
		var strmore ='';
		$.each(moreObj,function(){
			 if(stateSel != $(this).val()){
				strmore +=$(this).val()+ '|';
			}
			})
		$('input[name="more"]').val(strmore);
	}
	 
	 
    }
function search_byAjax() {
    if ($('body').hasClass('openfilter')) {
        return false;
    }
    var a = document.getElementById("mainContainerClass");
    formData = $("#frmId :input").serializeArray();
    var main_site_url ='<reg>,<state>/<bedrooms>/<type_of>/<sec>';
    var main_site_url1 =main_site_url;
    var e, t = "",
        n = "",
        o = "",
        i = "?";
    $.each(formData, function(a, e) {
		if(e.name != ''){
        if ("sec" == e.name) {
				switch(e.value){
					case 'property-for-sale':
					main_site_url1 = main_site_url1.replace("<sec>", "for-sale");
					break;
					case 'property-for-rent':
					main_site_url1 = main_site_url1.replace("<sec>", "for-rent");
					break;
					case '':
					main_site_url1 = main_site_url1.replace("<sec>", "for-sale-and-rent");
					break;
					default:
					main_site_url1 = main_site_url1.replace("<sec>", e.value);
					break;
				}
		}
        else if ("state" == e.name ) {
				if(e.value != ''){
					main_site_url1 = main_site_url1.replace("<state>", e.value);
				}else{
					main_site_url1 = main_site_url1.replace("<state>/", 'all/');
				}
		}
		     else if ("reg" == e.name ) {
				if(e.value != ''){
					main_site_url1 = main_site_url1.replace("<reg>", e.value);
				}else{
					main_site_url1 = main_site_url1.replace("<reg>,", '');
				}
		}
        else if ("reg_id" == e.name ) {
				 
		}
         else if ("type_of" == e.name  ) {
				if(e.value != ''){
			 
				main_site_url1 = main_site_url1.replace("<type_of>", e.value);
				} 
		}
         else if ("sec1" == e.name  ) {
				 
		}
         else if ("bedrooms" == e.name ) {
				if( e.value != ''){
				main_site_url1 = main_site_url1.replace("<bedrooms>", e.value+'bedrooms');
				}else{
					main_site_url1 = main_site_url1.replace("<bedrooms>/",'');
				}
		}
		 else if(e.name=='area_unit' && e.value=='6'){
				 
			}
		 else  if(e.name=='sort' && e.value=='best-asc'){
				 
			}
		 else  if(e.name=='ct' ){
				 
			}
		 else {
          if("" != e.value )
			  {
				   i += "&" + e.name + "=" + e.value;
			   }
        }
		}
    });
    main_site_url1 = main_site_url1.replace("<type_of>/", 'property/');
    main_site_url1 = main_site_url1.replace("<state>/", 'all/');
    main_site_url1 = main_site_url1.replace("<bedrooms>/", '');
     e =   baseid2+main_site_url1+ i ;
 
    
    
     e = e, NProgress.start(), $.pjax({
        url: e,
        container: a,
        timeout: 11e4,
        cache: !1
    }).complete(function() {
        NProgress.done();
    })
}
function callprevet(e, t) {
	 var ainUrl ='<state>/<bedrooms>/<type_of>/<sec>';
    var ainUrl1 =ainUrl;
  
    e.preventDefault(), "" == $(t).find("#locality").val() && $(t).find(".js-typeahead-user_v2").attr("name", "word"), formData = $(t).find(":input").serializeArray();
    var i = "?",
        o = "",
        n = "",
        s = "",
        a = "?";
    $.each(formData, function(e, t) {
		 if ("sec" == t.name) {
				switch(t.value){
					case 'for-sale':
					ainUrl1 = ainUrl1.replace("<sec>", "for-sale");
					break;
					case 'for-rent':
					ainUrl1 = ainUrl1.replace("<sec>", "for-rent");
					break;
					case '':
					ainUrl1 = ainUrl1.replace("<sec>", "for-sale-and-rent");
					break;
					 
				}
		}
        else if ("state" == t.name ) {
				if(t.value != ''){
					ainUrl1 = ainUrl1.replace("<state>", t.value);
				}else{
					ainUrl1 = ainUrl1.replace("<state>/", 'all/');
				}
		}
         else if ("type_of" == t.name  ) {
				if(t.value != ''){
			 
				ainUrl1 = ainUrl1.replace("<type_of>", t.value);
				} 
		}
		 else {
          if("" != t.value )
			  {
				   i += "&" + t.name + "=" + t.value;
			   }
        }
			
    });
      ainUrl1 = ainUrl1.replace("<type_of>/", 'property/');
    ainUrl1 = ainUrl1.replace("<state>/", 'all-');
    ainUrl1 = ainUrl1.replace("<bedrooms>/", '');
    
    location.href = baseid2+ainUrl1+i
    //location.href = 'http://localhost/projects/avenue/index.php/'+ainUrl1+i
}
		function gback(){
			$('ul.popular-regin').find('li').removeClass('active');
			$('ul.popular-regin').find('li').removeClass('hide');
			$("#city-d-mdiv").removeClass('active');
			$("#city-d-mdiv").find(".row-items").removeClass('active');
			$('#city-d-mdiv').find('.inpsCity').attr('checked',false);
			$('#city-d-mdiv').find('.iesges').attr('checked',false);
			$('#reg').val('');
		}
    function showthisregion(k){
		$('#city-d-mdiv').find('.inpsCity').attr('checked',false);
			$('#city-d-mdiv').find('.iesges').attr('checked',false);
		$('ul.popular-regin').find('li').removeClass('active');
		$('ul.popular-regin').find('li').addClass('hide');
		$(k).addClass('active');
		var sluglist  =$(k).attr('data-slug');
		var sluglist_original  =$(k).attr('data-slug-original');
		$('#reg').val(sluglist_original);
		$('.citlist').removeClass('active');
		$("#city-d-mdiv").addClass('active');
		$("#city-d-mdiv").find("[data-value='"+sluglist+"']").addClass('active');
		//$('data-value["'+sluglist+'"]').addClass('active');
	}
function search_byAjax() {
    if ($('body').hasClass('openfilter')) {
        return false;
    }
   
    var a = document.getElementById("mainContainerClass");
     if(isAjaxFrm){
         console.log("ajaxFrm");
         formData = $('#dropFilter').find("#frmId :input").serializeArray();
        
    }else{
    formData = $("#frmId :input").serializeArray();
    }
   var main_url = '';main_url2='';main_url3=''; var sub_url = '?';var more_city = '?area='; var firstcity = false; 
    $.each(formData,function(k,v){
        
	       if(v.name=='sec' && v.value!=''){
			   main_url+= v.value+'/';
		   }
		    else if(v.name=='category' && v.value!=''){
			   main_url2+= v.value+'/'; 
		   } 
		   else if(v.name=='type_of' && v.value!=''){
			   main_url2+= v.value+'/';
		   } 
		  
		   else if(v.name=='state' && v.value!=''){
			   if(!firstcity){
			   main_url3+= v.value+'/';firstcity = true;
			   }else{
				   more_city +=   v.value+':';
			   }
		   }
		  
		   else if(v.name=='sec1'){
		   }
		   else if(v.name=='ct'){
		   }
		    else if(v.name=='area'){
		   }
		    else if(v.name=='preleased'){
		   }
		    else if(v.name=='area_unit' && v.value=='6'){
		   }
		    else if(v.name=='sort' && v.value=='best-asc'){
		   }
		   else if(v.value!='' && v.value!='0'){
			   sub_url+= v.name+'='+v.value+'&';
		   }
			    
	   })
	   
    var createdUrl = main_url+main_url2+main_url3;
    if( more_city != '?area='){
		createdUrl+=more_city;
		if( sub_url != '?'){
		 
			sub_url = sub_url.replace("?", "&");
			createdUrl+=sub_url;
		}
	}
	else{
		createdUrl+=sub_url;
	}
     
     e =   baseid2+createdUrl ;
 
     if(isAjaxFrm){
         window.location.href = e; 
     }
     else if(typeof isviewmap != "undefined"){
         window.location.href = e; 
     }else{
    
     e = e, NProgress.start(), $.pjax({
        url: e,
        container: a,
        timeout: 11e4,
        cache: !1
    }).complete(function() {
        NProgress.done();
    })
     }
}
function callprevet(e, t) {
	 
    e.preventDefault();
    formData = $(t).find(":input").serializeArray();
   
    var main_url = '';main_url2='';main_url3=''; var sub_url = '?';var more_city = '?area='; var firstcity = false; 
    
   
    $.each(formData,function(k,v){
	       if(v.name=='sec' && v.value!=''){
			   main_url+= v.value+'/';
		   }
		       else if(v.name=='category' && v.value!=''){
			   main_url2+= v.value+'/';
		   } 
		    else if(v.name=='type_of' && v.value!=''){
			   main_url2+= v.value+'/';
		   } 
		   else if(v.name=='state' && v.value!=''){
			   if(!firstcity){
			   main_url3+= v.value+'/';firstcity = true;
			   }else{
				   more_city +=   v.value+':';
			   }
		   }
		  
		   else if(v.name=='sec1'){
		   }
		   else if(v.name=='ct'){
		   }
		    else if(v.name=='area'){
		   }
		    else if(v.name=='rent_paid'&& v.value=='yearly'){
		   }
		      else if(v.name=='preleased'){
		   }
		    else if(v.name=='area_unit' && v.value=='6'){
		   }
		    else if(v.name=='sort' && v.value=='best-asc'){
		   }
		   else if(v.value!=''){
			   sub_url+= v.name+'='+v.value+'&';
		   }
			    
	   })
    var createdUrl = main_url+main_url2+main_url3;
    if( more_city != '?area='){
		createdUrl+=more_city;
		if( sub_url != '?'){
		 
			sub_url = sub_url.replace("?", "&");
			createdUrl+=sub_url;
		}
	}
	else{
		createdUrl+=sub_url;
	}
     
     e =   baseid2+createdUrl ;
 
    location.href = e
    //location.href = 'http://localhost/projects/avenue/index.php/'+ainUrl1+i
}
function ajaxSubmitHappenlist(frm, t, i, a) {
    i ? alert("error") : $.ajax({
        type: "POST",
        url: a,
        data: frm.serialize(),
        success: function(e) {
            var t;
            e = JSON.parse(e);
            frm.find("#requestBtn").length > 0 && (void 0 !== (t = frm.find("#requestBtn").attr("data-html")) && (frm.find("#requestBtn").attr("disabled", !1), frm.find("#requestBtn").html(t)));
            frm.find("#bb2").length > 0 && (void 0 !== (t = frm.find("#bb2").attr("data-html")) && (frm.find("#bb2").attr("disabled", !1), frm.find("#bb2").html(t)));
            "1" == e.status ? (frm.closest("#topThirdPlacementLeadFormContainer").hide(), frm.closest(".rms-data-h").addClass("hide"), frm.closest('.modal-body').find(".success-modal").addClass("visible")) : (frm.find("#msg_alert").html(e.msg).show(), setTimeout(function() {
                frm.find("#msg_alert").hide()
            }, 7e3))
        }
    })
}
function OpenSignupRequiredNewNologin(e){var t=$(e).attr("data-nextclick");void 0!==$("#post-property")&&$("#post-property").submit(),void 0===t?$("#signin-form").submit():("1"==t&&setTimeout(function(){OpenApplication2(e)},500),"2"==t&&setTimeout(function(){OpenApplication(e)},500))}

function whatsappstatistcsupdate(e) {    var t = $(e).attr("data-prop");    var t2 = $(e).attr("data-type");  $.get(other_statistics, {'case': t2 ,reactid: t}, function(e) {})}
function initMapLoadNew(e,n,a,l){if("undefined"==typeof google){var o=document.createElement("script");document.getElementById("dynamicScripts").appendChild(o),o.src=mpaurl,o.onload=callback5new(e,n,a,l),o.onreadystatechange=function(){callback5new(e,n,a,l)}}else initMap3new(e,n,a,l)}var gloeded=!1;function callback5new(e,n,a,l){setInterval(function(){"undefined"==typeof google||gloeded||(gloeded=!0,initMap3new(e,n,a,l))},500)}var myStyles=[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}];function initMap3new(e,n,a,l){$(".map-c").html(""),infoscreen=e;a={lat:temp_lat,lng:temp_lng};"undefined"!=typeof map&&(map=""),$("#g-"+infoscreen+"-info").html(""),map=new google.maps.Map(document.getElementById(e),{center:a,zoom:13,disableDefaultUI:!0,mapTypeControl:!1,scaleControl:!0,zoomControl:!0,disableAutoPan:!0,fullScreenControl:!1,draggable:!0,clickableIcons:!1,styles:myStyles,gestureHandling:"greedy"}),latlng=new google.maps.LatLng(temp_lat,temp_lng),placeMarker(latlng),infowindow=new google.maps.InfoWindow,new google.maps.places.PlacesService(map).nearbySearch({location:a,radius:3500,type:[n]},callbacknew);var o=infoscreen;google.maps.event.clearListeners(map,"idle"),map.addListener("idle",()=>{o==infoscreen&&(console.log("running"+infoscreen),bounds2=map.getBounds(),$("#g-"+infoscreen+"-info").html(""),callback2New(ps,map,n))},1500)}function callback2New(e,n,a){if(e){console.log("new");for(var l="",o=0;o<e.length;o++)if(""!=bounds2&&bounds2.contains(e[o].geometry.location)&&-1!=e[o].types.indexOf(a)){var s="p_"+o,i="";console.log(a),null!=e[o].rating&&(i+='<span class="g-ratingg-rating">'+e[o].rating+" <b>rating</b> </span>"),l='<li id="'+s+'" onclick="thrig(this)"><span class="g-icon"></span><span class="g-more-info"><span class="g-name">'+e[o].name+i+"</span></span></li>",console.log(e[o].name),$("#g-"+infoscreen+"-info").append(l),createMarker(e[o],s)}}}function callbacknew(e,n){if($("#g-"+infoscreen+"-info").addClass("unload"),n===google.maps.places.PlacesServiceStatus.OK){ps=e,console.log("new1");for(var a="",l=0;l<e.length;l++){var o="p_"+l,s="";null!=e[l].rating&&(s+='<span class="g-ratingg-rating">'+e[l].rating+" <b>rating</b> </span>"),a='<li id="'+o+'" onclick="thrig(this)"><span class="g-icon"></span><span class="g-more-info"><span class="g-name">'+e[l].name+s+"</span></span></li>",$("#g-"+infoscreen+"-info").append(a),createMarker(e[l],o)}}}
 function showorhide(k){
									var ids = $(k).val();
										 var mainparent = $(k).parent().parent();
									 mainparent.find('li').removeClass('hide');
								
									if(ids){
										console.log(ids);
									$.each(ids,function(k,vl){
										var lilist = mainparent.find('li[data-value="'+vl+'"]'); 
										
										var data_parent = lilist.attr('data-region') ; 
										if(data_parent != undefined){
										  
										 mainparent.find('li[data-value="'+data_parent+'"]').addClass('hide');
										}else{
											 mainparent.find('li[data-region="'+vl+'"]').addClass('hide');
										}
									 
									})
									}
								 // alert($(k).attr('data-region'));
	
	//alert( mainparent.find('ul').html());
  }

	function setThisPropVal(k){
		var tabid = $(k).attr('data-val');
		$('#ptype').html(tabid);
		var closest = $(k).closest('.form-container-list-item'); 
	$('.form-container-list-item').not(closest).removeClass('active')
	closest.toggleClass('active')
		}  
	function  activtetab(k){
			var tabid = $(k).attr('data-tab-id');
			if(tabid=='2'){ $('.bed-bath-m').removeClass('hide'); }else{$('.bed-bath-m').addClass('hide'); }
			 $(k).closest('.pr-selector').find('li').removeClass('active');
			  $(k).addClass('active');
			 $('.contns').removeClass('active');
			 $('#category1').val($(k).attr('data-val')); 
			 $(k).parent().parent().find('#cnt-select'+tabid).addClass('active');
			 
			
	}
function openthisBpx(k){
	var closest = $(k).closest('.form-container-list-item'); 
	$('.form-container-list-item').not(closest).removeClass('active')
	closest.toggleClass('active')
}
function openthisBpxInside(k){
	$(k).closest('.form-container-list-item').removeClass('active')
}
function clickBtnSerach(){
	$('.search-popup-cntainer-btn').not('.indeividual').on('click',function(){
		var aria_label = $(this).attr('aria-label');
		var aria_value = $(this).attr('aria-value');
		var cnj = $(this).closest('.form-container-list-item') ; 
		if(aria_label!=undefined && cnj != undefined){
			
			var input_id = cnj.attr('data-input');		
			var input_function = cnj.attr('data-function');
			if(input_id!= undefined){
			 $('#'+input_id).val(aria_value).change();
			}	
			 
			cnj.find('.search-popup-cntainer-btn').removeClass('active');
			$(this).addClass('active');
			cnj.find('.button-container-text').html(aria_label);
			cnj.removeClass('active');
		}
		})
}
 function changeValuedropDown(k,oponent,symbol,blk,pparent){
     
  var val = Number($(k).attr('aria-value'));
 
  $('#'+oponent+' .search-popup-cntainer-btn').prop('disabled',false);
  $('#'+oponent+' .search-popup-cntainer-btn').each(function() {
 
    if(symbol=='>'){
        if(Number($(this).attr('aria-value')) > val){
			$(this).prop('disabled',true);
		}
    }
    else{
          if(Number($(this).attr('aria-value')) < val){
		 $(this).prop('disabled',true);
		}
    }
  })
  
		var aria_label = $(k).attr('aria-label');
		var aria_value = $(k).attr('aria-value');
		if(pparent!=undefined){
		var cnj = $('#'+pparent)  ; 
		}else{
			var cnj = $('#price-parent')  ; 
		}
	 
		var cnj_child = cnj.find('#'+blk)  ; 
		
		if(aria_label!=undefined && cnj != undefined){
		 
			var input_id = cnj_child.attr('data-input');		
			var parent_input_id = cnj_child.attr('data-parent-input');		
			var input_function = cnj_child.attr('data-function');
		 	
			if(input_id!= undefined){
			 $('#'+input_id).val(aria_value).change();
			}	
			if(parent_input_id!= undefined){
			 $('#'+parent_input_id).html(aria_label);
			}	
			if(input_function!= undefined && input_function!=''){
			processFunction(input_function);
			}	
				
			cnj_child.find('.search-popup-cntainer-btn').removeClass('active');
			$(k).addClass('active');
			cnj_child.find('input').val(aria_label);
			 
		}
		
 
    }
 function changeValuedropDownSelect(k,oponent,symbol,blk,pparent,theid){
   
  var val = Number($(k).val());
 console.log(theid);
  $('#'+oponent+' option').prop('disabled',false);
  $('#'+oponent+' option').each(function() {
 
    if(symbol=='>'){
        if(Number($(this).val()) > val){
			$(this).prop('disabled',true);
		}
    }
    else{
          if(Number($(this).val()) < val){
		 $(this).prop('disabled',true);
		}
    }
  })
  
		var aria_label = $(k).find("option:selected").text();
		var aria_value = $(k).val();
		if(pparent!=undefined){
		var cnj = $('#'+pparent)  ; 
		}else{
			var cnj = $('#price-parent')  ; 
		}
	 
		var cnj_child = cnj.find('#'+blk)  ; 
		
		if(aria_label!=undefined && cnj != undefined){
		 
			var input_id = cnj_child.attr('data-input');		
			var parent_input_id = cnj_child.attr('data-parent-input');		
			var input_function = cnj_child.attr('data-function');
		 	
			if(input_id!= undefined){
			 $('#'+input_id).val(aria_value);
			}	
			if(parent_input_id!= undefined){
			 $('#'+parent_input_id).html(aria_label);
			}	
			if(input_function!= undefined && input_function!=''){
			processFunction(input_function);
			}	
				
			cnj_child.find('.search-popup-cntainer-btn').removeClass('active');
			$(k).addClass('active');
			cnj_child.find('input').val(aria_label);
			 
		}
			if(theid!=undefined){
	  $('#frmId').find('input[name="'+theid+'"]').val(aria_value)  ; 
		}else if(blk!=undefined){
		     $('#frmId').find('input[name="'+blk+'"]').val(aria_value)  ; 
		}
 
    }
        function ajaxSubmitHappenlistConta(e, t, i, a) {
            
    i ? alert("error") : $.ajax({
        type: "POST",
        url: a,
        data: e.serialize(),
        success: function(e) {
            var t;
            e = JSON.parse(e);
            t = $("#bb2").attr("data-html");
            $("#bb2").attr("disabled", !1);
            $("#bb2").html(t);
			// 						
			if ("1" == e.status)  {
				  $("#successModal").modal("show");
				  $('#successModal .title').html(`Thank ${e.name} <span class='email'>${e.email}</span> for your submission.`);
			 }else {
				 $("#msg_alert").html(e.msg).show(), setTimeout(function() {
					 $("#msg_alert").hide()
				 }, 7e3)
			 } 
        }
    })
}
    function updatethisval(k,input){
		$('#'+input).val($(k).val())
	}
function setMinimumRoi(e){var t=$(e).attr("data-val");void 0!==t&&$("#roi-exposed-min").val(t).change();}function setMaximumRoi(e){var t=$(e).attr("data-val");void 0!==t&&$("#roi-exposed-max").val(t).change();}
function resetFormValues(k){
    var fields = $(k).attr('data-name');
    if(fields!= undefined){
    const inpFields = fields.split(",");
   
    $.each(inpFields,function(k1,v1){
        $('input[name="'+v1+'"]').val('');
        
    })
    search_byAjax();
    } 
}
function resetFrmbyclick(){
$('.reset-frm').find('a').click();
setTimeout(function(){
                    search_byAjax();
                  }, 500);
}
function resetFrm1(k){
    var frm = $(k).closest('form')
    var fields = $(k).attr('data-fields');
    if(fields!= undefined){
    const inpFields = fields.split(",");
   
    $.each(inpFields,function(k1,v1){
        var inF = frm.find('input[name="'+v1+'"]');
 
        if(inF.length > 0){
            switch(v1){
                case 'category':
                     frm.find('#select1').click();
                break;
               
                default:
                 var ft = inF.attr('type');
                 if(ft=='radio'){
                     inF.prop('checked', false);
                 }
                 if(ft=='checkbox'){
                     inF.prop('checked', false);
                 }
                inF.val('');
                break;
            }
        }else{
             
            var inF = frm.find('#'+v1);
              if(inF.length > 0){
                  switch(v1){
                      case 'selct1':
                           inF.val('best-asc').change();
                         break;
                         default:
                        
                  //inF.find('option').prop('disabled',false)
                  inF.val('0').change();
                  setTimeout(function(){
                         frm.find('#'+v1+' option').each(function() {
                      $(this).prop('disabled',false);
                 })
                  }, 500);
                 
                         break;
                  }
                
             }
        }
         
        
    })
    var childs_delete = frm.find('.del');
    	 $.each(childs_delete,function(){
											 
										 $(this).click();	 
										})
     
    } 
}